!function n(o,a,l){function c(t,e){if(!a[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var r=a[t]={exports:{}};o[t][0].call(r.exports,function(e){return c(o[t][1][e]||e)},r,r.exports,n,o,a,l)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){var s=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=s},{}],2:[function(e,t,i){!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var s=typeof i;if("string"==s||"number"==s)e.push(i);else if(Array.isArray(i)&&i.length){var r=a.apply(null,i);r&&e.push(r)}else if("object"==s)for(var n in i)o.call(i,n)&&i[n]&&e.push(n)}}return e.join(" ")}void 0!==t&&t.exports?(a.default=a,t.exports=a):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return a}):window.classNames=a}()},{}],3:[function(e,t,i){var s=e("./QueryHandler"),r=e("./Util").each;function n(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var i=this;this.listener=function(e){i.mql=e.currentTarget||e,i.assess()},this.mql.addListener(this.listener)}n.prototype={constuctor:n,addHandler:function(e){var t=new s(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(i){var s=this.handlers;r(s,function(e,t){if(e.equals(i))return e.destroy(),!s.splice(t,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){r(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";r(this.handlers,function(e){e[t]()})}},t.exports=n},{"./QueryHandler":5,"./Util":6}],4:[function(e,t,i){var n=e("./MediaQuery"),s=e("./Util"),o=s.each,a=s.isFunction,l=s.isArray;function r(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}r.prototype={constructor:r,register:function(t,e,i){var s=this.queries,r=i&&this.browserIsIncapable;return s[t]||(s[t]=new n(t,r)),a(e)&&(e={match:e}),l(e)||(e=[e]),o(e,function(e){a(e)&&(e={match:e}),s[t].addHandler(e)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},t.exports=r},{"./MediaQuery":3,"./Util":6}],5:[function(e,t,i){function s(e){(this.options=e).deferSetup||this.setup()}s.prototype={constructor:s,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){this.initialised||this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},t.exports=s},{}],6:[function(e,t,i){t.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var i=0,s=e.length;i<s&&!1!==t(e[i],i);i++);}}},{}],7:[function(e,t,i){var s=e("./MediaQueryDispatch");t.exports=new s},{"./MediaQueryDispatch":4}],8:[function(e,t,i){function r(s){var r="",n=Object.keys(s);return n.forEach(function(e,t){var i=s[e];e=o(e),/[height|width]$/.test(e)&&"number"==typeof i&&(i+="px"),r+=!0===i?e:!1===i?"not "+e:"("+e+": "+i+")",t<n.length-1&&(r+=" and ")}),r}var o=e("string-convert/camel2hyphen");t.exports=function(i){var s="";return"string"==typeof i?i:i instanceof Array?(i.forEach(function(e,t){s+=r(e),t<i.length-1&&(s+=", ")}),s):r(i)}},{"string-convert/camel2hyphen":24}],9:[function(e,t,i){var s;s=function(){"use strict";var F="9.2.0";function V(e,t){var i=document.createElement("div");return G(i,t),e.appendChild(i),i}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function B(e,t,i){0<i&&(G(e,t),setTimeout(function(){X(e,t)},i))}function Y(e){return Array.isArray(e)?e:[e]}function t(e){var t=(e=String(e)).split(".");return 1<t.length?t[1].length:0}function G(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function X(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function Q(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return{x:e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}}function u(e,t){return 100/(t-e)}function d(e,t){return 100*t/(e[1]-e[0])}function p(e,t){for(var i=1;e>=t[i];)i+=1;return i}function i(e,t,i){if(i>=e.slice(-1)[0])return 100;var s,r,n,o,a,l,c=p(i,e);return s=e[c-1],r=e[c],n=t[c-1],o=t[c],n+(l=i,d(a=[s,r],a[0]<0?l+Math.abs(a[0]):l-a[0])/u(n,o))}function s(e,t,i,s){if(100===s)return s;var r,n,o,a,l=p(s,e);return i?(r=e[l-1],((n=e[l])-r)/2<s-r?n:r):t[l-1]?e[l-1]+(o=s-e[l-1],a=t[l-1],Math.round(o/a)*a):s}function o(e,t,i){var s;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider ("+F+"): 'range' contains invalid value.");if(!r(s="min"===e?0:"max"===e?100:parseFloat(e))||!r(t[0]))throw new Error("noUiSlider ("+F+"): 'range' value isn't numeric.");i.xPct.push(s),i.xVal.push(t[0]),s?i.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(i.xSteps[0]=t[1]),i.xHighestCompleteStep.push(0)}function a(e,t,i){if(!t)return 1;i.xSteps[e]=d([i.xVal[e],i.xVal[e+1]],t)/u(i.xPct[e],i.xPct[e+1]);var s=(i.xVal[e+1]-i.xVal[e])/i.xNumSteps[e],r=Math.ceil(Number(s.toFixed(3))-1),n=i.xVal[e]+i.xNumSteps[e]*r;i.xHighestCompleteStep[e]=n}function n(e,t,i,s){this.xPct=[],this.xVal=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t,this.direction=i;var r,n=[];for(r in e)e.hasOwnProperty(r)&&n.push([e[r],r]);for(n.length&&"object"==typeof n[0][0]?n.sort(function(e,t){return e[0][0]-t[0][0]}):n.sort(function(e,t){return e[0]-t[0]}),r=0;r<n.length;r++)o(n[r][1],n[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)a(r,this.xNumSteps[r],this)}n.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider ("+F+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&d(this.xVal,e)},n.prototype.toStepping=function(e){return e=i(this.xVal,this.xPct,e)},n.prototype.fromStepping=function(e){return function(e,t,i){if(100<=i)return e.slice(-1)[0];var s,r,n,o,a,l=p(i,t);return s=e[l-1],r=e[l],n=t[l-1],o=t[l],a=[s,r],(i-n)*u(n,o)*(a[1]-a[0])/100+a[0]}(this.xVal,this.xPct,e)},n.prototype.getStep=function(e){return e=s(this.xPct,this.xSteps,this.snap,e)},n.prototype.getNearbySteps=function(e){var t=p(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[+t],step:this.xNumSteps[+t],highestStep:this.xHighestCompleteStep[+t]}}},n.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(t);return Math.max.apply(null,e)},n.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var l={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function c(e,t){if(!r(t))throw new Error("noUiSlider ("+F+"): 'step' is not numeric.");e.singleStep=t}function h(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+F+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+F+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+F+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new n(t,e.snap,e.dir,e.singleStep)}function f(e,t){if(t=Y(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+F+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function m(e,t){if("boolean"!=typeof(e.snap=t))throw new Error("noUiSlider ("+F+"): 'snap' option must be a boolean.")}function g(e,t){if("boolean"!=typeof(e.animate=t))throw new Error("noUiSlider ("+F+"): 'animate' option must be a boolean.")}function v(e,t){if("number"!=typeof(e.animationDuration=t))throw new Error("noUiSlider ("+F+"): 'animationDuration' option must be a number.")}function S(e,t){var i,s=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(i=1;i<e.handles;i++)s.push(t);s.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+F+"): 'connect' option doesn't match handle count.");s=t}e.connect=s}function w(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+F+"): 'orientation' option is invalid.")}}function y(e,t){if(!r(t))throw new Error("noUiSlider ("+F+"): 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider ("+F+"): 'margin' option is only supported on linear sliders.")}function b(e,t){if(!r(t))throw new Error("noUiSlider ("+F+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||e.handles<2)throw new Error("noUiSlider ("+F+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function x(e,t){if(!r(t))throw new Error("noUiSlider ("+F+"): 'padding' option must be numeric.");if(0!==t){if(e.padding=e.spectrum.getMargin(t),!e.padding)throw new Error("noUiSlider ("+F+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+F+"): 'padding' option must be a positive number.");if(50<=e.padding)throw new Error("noUiSlider ("+F+"): 'padding' option must be less than half the range.")}}function k(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+F+"): 'direction' option was not recognized.")}}function C(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+F+"): 'behaviour' must be a string containing options.");var i=0<=t.indexOf("tap"),s=0<=t.indexOf("drag"),r=0<=t.indexOf("fixed"),n=0<=t.indexOf("snap"),o=0<=t.indexOf("hover");if(r){if(2!==e.handles)throw new Error("noUiSlider ("+F+"): 'fixed' behaviour must be used with 2 handles");y(e,e.start[1]-e.start[0])}e.events={tap:i||n,drag:s,fixed:r,snap:n,hover:o}}function E(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(!0)}else{if(e.tooltips=Y(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+F+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+F+"): 'tooltips' must be passed a formatter or 'false'.")})}}function T(e,t){if("function"==typeof(e.format=t).to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider ("+F+"): 'format' requires 'to' and 'from' methods.")}function M(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider ("+F+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function N(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider ("+F+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var i in e.cssClasses={},t)t.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+t[i]);else e.cssClasses=t}function O(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider ("+F+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function K(t){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,format:l},s={step:{r:!1,t:c},start:{r:!0,t:f},connect:{r:!0,t:S},direction:{r:!0,t:k},snap:{r:!1,t:m},animate:{r:!1,t:g},animationDuration:{r:!1,t:v},range:{r:!0,t:h},orientation:{r:!1,t:w},margin:{r:!1,t:y},limit:{r:!1,t:b},padding:{r:!1,t:x},behaviour:{r:!0,t:C},format:{r:!1,t:T},tooltips:{r:!1,t:E},cssPrefix:{r:!1,t:M},cssClasses:{r:!1,t:N},useRequestAnimationFrame:{r:!1,t:O}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(s).forEach(function(e){if(void 0===t[e]&&void 0===r[e]){if(s[e].r)throw new Error("noUiSlider ("+F+"): '"+e+"' is required.");return!0}s[e].t(i,void 0===t[e]?r[e]:t[e])}),i.pips=t.pips;var e=[["left","top"],["right","bottom"]];return i.style=e[i.dir][i.ort],i.styleOposite=e[i.dir?0:1][i.ort],i}function L(e,p,n){var a,l,o,c,t,u,r,d=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},h=e,f=[],m=[],g=!1,y=p.spectrum,v=[],S={};function w(e,t){return!!t&&V(e,p.cssClasses.connect)}function i(e,t){return!!p.tooltips[t]&&V(e.firstChild,p.cssClasses.tooltip)}function b(h,f,m){var g={},e=y.xVal[0],t=y.xVal[y.xVal.length-1],v=!1,S=!1,w=0;return(m=m.slice().sort(function(e,t){return e-t}).filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==e&&(m.unshift(e),v=!0),m[m.length-1]!==t&&(m.push(t),S=!0),m.forEach(function(e,t){var i,s,r,n,o,a,l,c,u,d=e,p=m[t+1];if("steps"===f&&(i=y.xNumSteps[t]),i=i||p-d,!1!==d&&void 0!==p)for(i=Math.max(i,1e-7),s=d;s<=p;s=+(s+i).toFixed(7)){for(l=(o=(n=y.toStepping(s))-w)/h,u=o/(c=Math.round(l)),r=1;r<=c;r+=1)g[(w+r*u).toFixed(5)]=["x",0];a=-1<m.indexOf(s)?1:"steps"===f?2:0,!t&&v&&(a=0),s===p&&S||(g[n.toFixed(5)]=[s,a]),w=n}}),g}function x(s,r,n){var e=document.createElement("div"),o="",a=[p.cssClasses.valueNormal,p.cssClasses.valueLarge,p.cssClasses.valueSub],l=[p.cssClasses.markerNormal,p.cssClasses.markerLarge,p.cssClasses.markerSub],c=[p.cssClasses.valueHorizontal,p.cssClasses.valueVertical],u=[p.cssClasses.markerHorizontal,p.cssClasses.markerVertical];function d(e,t,i){return'class="'+(s=i[1],n=(r=t)===p.cssClasses.value,o=n?a:l,r+" "+(n?c:u)[p.ort]+" "+o[s])+'" style="'+p.style+": "+e+'%"';var s,r,n,o}return G(e,p.cssClasses.pips),G(e,0===p.ort?p.cssClasses.pipsHorizontal:p.cssClasses.pipsVertical),Object.keys(s).forEach(function(e){var t,i;(i=s[t=e])[1]=i[1]&&r?r(i[0],i[1]):i[1],o+="<div "+d(t,p.cssClasses.marker,i)+"></div>",i[1]&&(o+="<div "+d(t,p.cssClasses.value,i)+">"+n.to(i[0])+"</div>")}),e.innerHTML=o,e}function s(e){var t=e.mode,i=e.density||1,s=e.filter||!1,r=b(i,t,function(e,t,i){if("range"===e||"steps"===e)return y.xVal;if("count"===e){if(!t)throw new Error("noUiSlider ("+F+"): 'values' required for mode 'count'.");var s,r=100/(t-1),n=0;for(t=[];(s=n++*r)<=100;)t.push(s);e="positions"}return"positions"===e?t.map(function(e){return y.fromStepping(i?y.getStep(e):e)}):"values"===e?i?t.map(function(e){return y.fromStepping(y.getStep(y.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1)),n=e.format||{to:Math.round};return h.appendChild(x(r,s,n))}function k(){var e=a.getBoundingClientRect(),t="offset"+["Width","Height"][p.ort];return 0===p.ort?e.width||a[t]:e.height||a[t]}function C(s,t,r,n){function i(e){return!h.hasAttribute("disabled")&&(t=h,i=p.cssClasses.tap,(t.classList?!t.classList.contains(i):!new RegExp("\\b"+i+"\\b").test(t.className))&&(!!(e=function(e,t){e.preventDefault();var i,s,r=0===e.type.indexOf("touch"),n=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer");0===e.type.indexOf("MSPointer")&&(o=!0);if(r){if(1<e.touches.length)return!1;i=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY}t=t||Q(),(n||o)&&(i=e.clientX+t.x,s=e.clientY+t.y);return e.pageOffset=t,e.points=[i,s],e.cursor=n||o,e}(e,n.pageOffset))&&(!(s===d.start&&void 0!==e.buttons&&1<e.buttons)&&((!n.hover||!e.buttons)&&(e.calcPoint=e.points[p.ort],void r(e,n))))));var t,i}var o=[];return s.split(" ").forEach(function(e){t.addEventListener(e,i,!1),o.push([e,i])}),o}function E(e){var t,i,s,r,n,o=100*(e-(t=a,i=p.ort,s=t.getBoundingClientRect(),r=t.ownerDocument.documentElement,n=Q(),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(n.x=0),i?s.top+n.y-r.clientTop:s.left+n.x-r.clientLeft))/k();return p.dir?100-o:o}function T(e,s,i,t){var r=i.slice(),n=[!e,e],o=[e,!e];t=t.slice(),e&&t.reverse(),1<t.length?t.forEach(function(e,t){var i=j(r,e,r[e]+s,n[t],o[t]);!1===i?s=0:(s=i-r[e],r[e]=i)}):n=o=[!0];var a=!1;t.forEach(function(e,t){a=I(e,i[e]+s,n[t],o[t])||a}),a&&t.forEach(function(e){M("update",e),M("slide",e)})}function M(i,s,r){Object.keys(S).forEach(function(e){var t=e.split(".")[0];i===t&&S[e].forEach(function(e){e.call(c,v.map(p.format.to),s,v.slice(),r||!1,f.slice())})})}function N(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&L(e,t)}function O(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return L(e,t);var i=(p.dir?-1:1)*(e.calcPoint-t.startCalcPoint);T(0<i,100*i/t.baseSize,t.locations,t.handleNumbers)}function L(e,t){g&&(X(g,p.cssClasses.active),g=!1),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(e){document.documentElement.removeEventListener(e[0],e[1])}),X(h,p.cssClasses.drag),U(),t.handleNumbers.forEach(function(e){M("set",e),M("change",e),M("end",e)})}function D(e,t){if(1===t.handleNumbers.length){var i=l[t.handleNumbers[0]];if(i.hasAttribute("disabled"))return!1;G(g=i.children[0],p.cssClasses.active)}e.preventDefault(),e.stopPropagation();var s=C(d.move,document.documentElement,O,{startCalcPoint:e.calcPoint,baseSize:k(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:f.slice()}),r=C(d.end,document.documentElement,L,{handleNumbers:t.handleNumbers}),n=C("mouseout",document.documentElement,N,{handleNumbers:t.handleNumbers});if(document.documentElement.noUiListeners=s.concat(r,n),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,1<l.length&&G(h,p.cssClasses.drag);var o=function(){return!1};document.body.noUiListener=o,document.body.addEventListener("selectstart",o,!1)}t.handleNumbers.forEach(function(e){M("start",e)})}function P(e){e.stopPropagation();var s,r,n,t=E(e.calcPoint),i=(s=t,n=!(r=100),l.forEach(function(e,t){if(!e.hasAttribute("disabled")){var i=Math.abs(f[t]-s);i<r&&(n=t,r=i)}}),n);if(!1===i)return!1;p.events.snap||B(h,p.cssClasses.tap,p.animationDuration),I(i,t,!0,!0),U(),M("slide",i,!0),M("set",i,!0),M("change",i,!0),M("update",i,!0),p.events.snap&&D(e,{handleNumbers:[i]})}function H(e){var t=E(e.calcPoint),i=y.getStep(t),s=y.fromStepping(i);Object.keys(S).forEach(function(e){"hover"===e.split(".")[0]&&S[e].forEach(function(e){e.call(c,s)})})}function j(e,t,i,s,r){var n;return 1<l.length&&(s&&0<t&&(i=Math.max(i,e[t-1]+p.margin)),r&&t<l.length-1&&(i=Math.min(i,e[t+1]-p.margin))),1<l.length&&p.limit&&(s&&0<t&&(i=Math.min(i,e[t-1]+p.limit)),r&&t<l.length-1&&(i=Math.max(i,e[t+1]-p.limit))),p.padding&&(0===t&&(i=Math.max(i,p.padding)),t===l.length-1&&(i=Math.min(i,100-p.padding))),i=y.getStep(i),n=i,(i=Math.max(Math.min(n,100),0))!==e[t]&&i}function _(e){return e+"%"}function U(){m.forEach(function(e){var t=50<f[e]?-1:1,i=3+(l.length+t*e);l[e].childNodes[0].style.zIndex=i})}function I(e,t,i,s){if(!1===(t=j(f,e,t,i,s)))return!1;function r(){l[n].style[p.style]=_(o),A(n),A(n+1)}var n,o;return o=t,f[n=e]=o,v[n]=y.fromStepping(o),window.requestAnimationFrame&&p.useRequestAnimationFrame?window.requestAnimationFrame(r):r(),!0}function A(e){if(o[e]){var t=0,i=100;0!==e&&(t=f[e-1]),e!==o.length-1&&(i=f[e]),o[e].style[p.style]=_(t),o[e].style[p.styleOposite]=_(100-i)}}function W(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=p.format.from(e))||isNaN(e)||I(t,y.toStepping(e),!1,!1))}function z(e,t){var i=Y(e),s=void 0===f[0];t=void 0===t||!!t,i.forEach(W),p.animate&&!s&&B(h,p.cssClasses.tap,p.animationDuration),m.forEach(function(e){I(e,f[e],!0,!1)}),U(),m.forEach(function(e){M("update",e),null!==i[e]&&t&&M("set",e)})}function q(){var e=v.map(p.format.to);return 1===e.length?e[0]:e}function R(e,t){S[e]=S[e]||[],S[e].push(t),"update"===e.split(".")[0]&&l.forEach(function(e,t){M("update",t)})}if(h.noUiSlider)throw new Error("noUiSlider ("+F+"): Slider was already initialized.");return G(t=h,p.cssClasses.target),0===p.dir?G(t,p.cssClasses.ltr):G(t,p.cssClasses.rtl),0===p.ort?G(t,p.cssClasses.horizontal):G(t,p.cssClasses.vertical),a=V(t,p.cssClasses.base),function(e,t){l=[],(o=[]).push(w(t,e[0]));for(var i=0;i<p.handles;i++)l.push((s=i,n=void 0,r=V(t,p.cssClasses.origin),(n=V(r,p.cssClasses.handle)).setAttribute("data-handle",s),0===s?G(n,p.cssClasses.handleLower):s===p.handles-1&&G(n,p.cssClasses.handleUpper),r)),m[i]=i,o.push(w(t,e[i+1]));var s,r,n}(p.connect,a),c={destroy:function(){for(var e in p.cssClasses)p.cssClasses.hasOwnProperty(e)&&X(h,p.cssClasses[e]);for(;h.firstChild;)h.removeChild(h.firstChild);delete h.noUiSlider},steps:function(){return f.map(function(e,t){var i=y.getNearbySteps(e),s=v[t],r=i.thisStep.step,n=null;!1!==r&&s+r>i.stepAfter.startValue&&(r=i.stepAfter.startValue-s),n=s>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&s-i.stepBefore.highestStep,100===e?r=null:0===e&&(n=null);var o=y.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(o))),null!==n&&!1!==n&&(n=Number(n.toFixed(o))),[n,r]})},on:R,off:function(e){var s=e&&e.split(".")[0],r=s&&e.substring(s.length);Object.keys(S).forEach(function(e){var t=e.split(".")[0],i=e.substring(t.length);s&&s!==t||r&&r!==i||delete S[e]})},get:q,set:z,reset:function(e){z(p.start,e)},__moveHandles:function(e,t,i){T(e,t,f,i)},options:n,updateOptions:function(t,e){var i=q(),s=["margin","limit","padding","range","animate","snap","step","format"];s.forEach(function(e){void 0!==t[e]&&(n[e]=t[e])});var r=K(n);s.forEach(function(e){void 0!==t[e]&&(p[e]=r[e])}),r.spectrum.direction=y.direction,y=r.spectrum,p.margin=r.margin,p.limit=r.limit,p.padding=r.padding,f=[],z(t.start||i,e)},target:h,pips:s},(u=p.events).fixed||l.forEach(function(e,t){C(d.start,e.children[0],D,{handleNumbers:[t]})}),u.tap&&C(d.start,a,P,{}),u.hover&&C(d.move,a,H,{hover:!0}),u.drag&&o.forEach(function(e,t){if(!1!==e&&0!==t&&t!==o.length-1){var i=l[t-1],s=l[t],r=[e];G(e,p.cssClasses.draggable),u.fixed&&(r.push(i.children[0]),r.push(s.children[0])),r.forEach(function(e){C(d.start,e,D,{handles:[i,s],handleNumbers:[t-1,t]})})}}),z(p.start),p.pips&&s(p.pips),p.tooltips&&(r=l.map(i),R("update",function(e,t,i){if(r[t]){var s=e[t];!0!==p.tooltips[t]&&(s=p.tooltips[t].to(i[t])),r[t].innerHTML=s}})),c}return{version:F,create:function(e,t){if(!e.nodeName)throw new Error("noUiSlider ("+F+"): create requires a single element.");var i=L(e,K(t),t);return e.noUiSlider=i}}},"function"==typeof define&&define.amd?define([],s):"object"==typeof i?t.exports=s():window.noUiSlider=s()},{}],10:[function(e,t,i){"use strict";var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(e){s[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},s)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var i,s,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),n=1;n<arguments.length;n++){for(var o in i=Object(arguments[n]))c.call(i,o)&&(r[o]=i[o]);if(l){s=l(i);for(var a=0;a<s.length;a++)u.call(i,s[a])&&(r[s[a]]=i[s[a]])}}return r}},{}],11:[function(e,t,i){var s,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(s===setTimeout)return setTimeout(t,0);if((s===o||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:o}catch(e){s=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],d=!1,p=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!d){var e=l(h);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new m(e,t)),1!==u.length||d||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],12:[function(e,t,i){var s=e("can-use-dom"),r=s&&e("enquire.js"),n=e("json2mq"),o={media:function(e,t){e=n(e),"function"==typeof t&&(t={match:t}),s&&r.register(e,t),this._responsiveMediaHandlers||(this._responsiveMediaHandlers=[]),this._responsiveMediaHandlers.push({query:e,handler:t})},componentWillUnmount:function(){this._responsiveMediaHandlers&&this._responsiveMediaHandlers.forEach(function(e){s&&r.unregister(e.query,e.handler)})}};t.exports=o},{"can-use-dom":1,"enquire.js":7,json2mq:8}],13:[function(e,t,i){"use strict";i.__esModule=!0,i.NextArrow=i.PrevArrow=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},r=a(e("react")),n=a(e("classnames")),o=a(e("./mixins/helpers"));function a(e){return e&&e.__esModule?e:{default:e}}i.PrevArrow=r.default.createClass({displayName:"PrevArrow",clickHandler:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var i={key:"0","data-role":"none",className:(0,n.default)(e),style:{display:"block"},onClick:t};return this.props.prevArrow?r.default.cloneElement(this.props.prevArrow,i):r.default.createElement("button",s({key:"0",type:"button"},i)," Previous")}}),i.NextArrow=r.default.createClass({displayName:"NextArrow",clickHandler:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});o.default.canGoNext(this.props)||(e["slick-disabled"]=!0,t=null);var i={key:"1","data-role":"none",className:(0,n.default)(e),style:{display:"block"},onClick:t};return this.props.nextArrow?r.default.cloneElement(this.props.nextArrow,i):r.default.createElement("button",s({key:"1",type:"button"},i)," Next")}})},{"./mixins/helpers":20,classnames:2,react:"react"}],14:[function(e,t,i){"use strict";var s,r=e("react"),n=(s=r)&&s.__esModule?s:{default:s};var o={className:"",accessibility:!0,adaptiveHeight:!1,arrows:!0,autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e){return n.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:!1,pauseOnHover:!0,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,afterChange:null,beforeChange:null,edgeEvent:null,init:null,swipeEvent:null,nextArrow:null,prevArrow:null};t.exports=o},{react:"react"}],15:[function(e,t,i){"use strict";i.__esModule=!0,i.Dots=void 0;var l=s(e("react")),c=s(e("classnames"));function s(e){return e&&e.__esModule?e:{default:e}}i.Dots=l.default.createClass({displayName:"Dots",clickHandler:function(e,t){t.preventDefault(),this.props.clickHandler(e)},render:function(){var e,a=this,t=(e={slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll},Math.ceil(e.slideCount/e.slidesToScroll)),i=Array.apply(null,Array(t+1).join("0").split("")).map(function(e,t){var i=t*a.props.slidesToScroll,s=t*a.props.slidesToScroll+(a.props.slidesToScroll-1),r=(0,c.default)({"slick-active":a.props.currentSlide>=i&&a.props.currentSlide<=s}),n={message:"dots",index:t,slidesToScroll:a.props.slidesToScroll,currentSlide:a.props.currentSlide},o=a.clickHandler.bind(a,n);return l.default.createElement("li",{key:t,className:r},l.default.cloneElement(a.props.customPaging(t),{onClick:o}))});return l.default.createElement("ul",{className:this.props.dotsClass,style:{display:"block"}},i)}})},{classnames:2,react:"react"}],16:[function(e,t,i){"use strict";t.exports=e("./slider")},{"./slider":22}],17:[function(e,t,i){"use strict";t.exports={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,listWidth:null,listHeight:null,slideCount:null,slideWidth:null,slideHeight:null,swipeLeft:null,touchObject:{startX:0,startY:0,curX:0,curY:0},lazyLoadedList:[],initialized:!1,edgeDragged:!1,swiped:!1,trackStyle:{},trackWidth:0}},{}],18:[function(o,e,a){(function(t){"use strict";a.__esModule=!0,a.InnerSlider=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},d=n(o("react")),e=n(o("./mixins/event-handlers")),i=n(o("./mixins/helpers")),s=n(o("./initial-state")),r=n(o("./default-props")),p=n(o("classnames")),h=n(o("object-assign")),f=o("./track"),m=o("./dots"),g=o("./arrows");function n(e){return e&&e.__esModule?e:{default:e}}a.InnerSlider=d.default.createClass({displayName:"InnerSlider",mixins:[i.default,e.default],list:null,track:null,listRefHandler:function(e){this.list=e},trackRefHandler:function(e){this.track=e},getInitialState:function(){return u({},s.default,{currentSlide:this.props.initialSlide})},getDefaultProps:function(){return r.default},componentWillMount:function(){this.props.init&&this.props.init(),this.setState({mounted:!0});for(var e=[],t=0;t<d.default.Children.count(this.props.children);t++)t>=this.state.currentSlide&&t<this.state.currentSlide+this.props.slidesToShow&&e.push(t);this.props.lazyLoad&&0===this.state.lazyLoadedList.length&&this.setState({lazyLoadedList:e})},componentDidMount:function(){this.initialize(this.props),this.adaptHeight(),window&&(window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized))},componentWillUnmount:function(){this.animationEndCallback&&clearTimeout(this.animationEndCallback),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.state.autoPlayTimer&&clearInterval(this.state.autoPlayTimer)},componentWillReceiveProps:function(e){this.props.slickGoTo!=e.slickGoTo?("production"!==t.env.NODE_ENV&&console.warn("react-slick deprecation warning: slickGoTo prop is deprecated and it will be removed in next release. Use slickGoTo method instead"),this.changeSlide({message:"index",index:e.slickGoTo,currentSlide:this.state.currentSlide})):this.state.currentSlide>=e.children.length?(this.update(e),this.changeSlide({message:"index",index:e.children.length-e.slidesToShow,currentSlide:this.state.currentSlide})):this.update(e)},componentDidUpdate:function(){this.adaptHeight()},onWindowResized:function(){this.update(this.props),this.setState({animating:!1}),clearTimeout(this.animationEndCallback),delete this.animationEndCallback},slickPrev:function(){this.changeSlide({message:"previous"})},slickNext:function(){this.changeSlide({message:"next"})},slickGoTo:function(e){"number"==typeof e&&this.changeSlide({message:"index",index:e,currentSlide:this.state.currentSlide})},render:function(){var e,t,i,s=(0,p.default)("slick-initialized","slick-slider",this.props.className,{"slick-vertical":this.props.vertical}),r={fade:this.props.fade,cssEase:this.props.cssEase,speed:this.props.speed,infinite:this.props.infinite,centerMode:this.props.centerMode,focusOnSelect:this.props.focusOnSelect?this.selectHandler:null,currentSlide:this.state.currentSlide,lazyLoad:this.props.lazyLoad,lazyLoadedList:this.state.lazyLoadedList,rtl:this.props.rtl,slideWidth:this.state.slideWidth,slidesToShow:this.props.slidesToShow,slidesToScroll:this.props.slidesToScroll,slideCount:this.state.slideCount,trackStyle:this.state.trackStyle,variableWidth:this.props.variableWidth};if(!0===this.props.dots&&this.state.slideCount>=this.props.slidesToShow){var n={dotsClass:this.props.dotsClass,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,currentSlide:this.state.currentSlide,slidesToScroll:this.props.slidesToScroll,clickHandler:this.changeSlide,children:this.props.children,customPaging:this.props.customPaging};e=d.default.createElement(m.Dots,n)}var o={infinite:this.props.infinite,centerMode:this.props.centerMode,currentSlide:this.state.currentSlide,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,prevArrow:this.props.prevArrow,nextArrow:this.props.nextArrow,clickHandler:this.changeSlide};this.props.arrows&&(t=d.default.createElement(g.PrevArrow,o),i=d.default.createElement(g.NextArrow,o));var a=null;this.props.vertical&&(a={height:this.state.listHeight});var l=null;!1===this.props.vertical?!0===this.props.centerMode&&(l={padding:"0px "+this.props.centerPadding}):!0===this.props.centerMode&&(l={padding:this.props.centerPadding+" 0px"});var c=(0,h.default)({},a,l);return d.default.createElement("div",{className:s,onMouseEnter:this.onInnerSliderEnter,onMouseLeave:this.onInnerSliderLeave},t,d.default.createElement("div",{ref:this.listRefHandler,className:"slick-list",style:c,onMouseDown:this.swipeStart,onMouseMove:this.state.dragging?this.swipeMove:null,onMouseUp:this.swipeEnd,onMouseLeave:this.state.dragging?this.swipeEnd:null,onTouchStart:this.swipeStart,onTouchMove:this.state.dragging?this.swipeMove:null,onTouchEnd:this.swipeEnd,onTouchCancel:this.state.dragging?this.swipeEnd:null,onKeyDown:this.props.accessibility?this.keyHandler:null},d.default.createElement(f.Track,u({ref:this.trackRefHandler},r),this.props.children)),i,e)}})}).call(this,o("_process"))},{"./arrows":13,"./default-props":14,"./dots":15,"./initial-state":17,"./mixins/event-handlers":19,"./mixins/helpers":20,"./track":23,_process:11,classnames:2,"object-assign":10,react:"react"}],19:[function(e,t,i){"use strict";i.__esModule=!0;var c=e("./trackHelper"),u=(s(e("./helpers")),s(e("object-assign"))),r=s(e("react-dom"));function s(e){return e&&e.__esModule?e:{default:e}}var n={changeSlide:function(e){var t,i,s,r,n=this.props,o=n.slidesToScroll,a=n.slidesToShow,l=this.state,c=l.slideCount,u=l.currentSlide;if(t=c%o!=0?0:(c-u)%o,"previous"===e.message)r=u-(s=0==t?o:a-t),this.props.lazyLoad&&(r=-1==(i=u-s)?c-1:i);else if("next"===e.message)r=u+(s=0==t?o:t),this.props.lazyLoad&&(r=(u+o)%c+t);else if("dots"===e.message||"children"===e.message){if((r=e.index*e.slidesToScroll)===e.currentSlide)return}else if("index"===e.message&&(r=parseInt(e.index))===e.currentSlide)return;this.slideHandler(r)},keyHandler:function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.props.accessibility?this.changeSlide({message:!0===this.props.rtl?"next":"previous"}):39===e.keyCode&&!0===this.props.accessibility&&this.changeSlide({message:!0===this.props.rtl?"previous":"next"}))},selectHandler:function(e){this.changeSlide(e)},swipeStart:function(e){var t,i;!1===this.props.swipe||"ontouchend"in document&&!1===this.props.swipe||!1===this.props.draggable&&-1!==e.type.indexOf("mouse")||(t=void 0!==e.touches?e.touches[0].pageX:e.clientX,i=void 0!==e.touches?e.touches[0].pageY:e.clientY,this.setState({dragging:!0,touchObject:{startX:t,startY:i,curX:t,curY:i}}))},swipeMove:function(e){if(this.state.dragging){if(!this.state.animating){var t,i,s;this.props.vertical&&this.props.swipeToSlide&&this.props.verticalSwiping&&e.preventDefault();var r=this.state.touchObject;i=(0,c.getTrackLeft)((0,u.default)({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state)),r.curX=e.touches?e.touches[0].pageX:e.clientX,r.curY=e.touches?e.touches[0].pageY:e.clientY,r.swipeLength=Math.round(Math.sqrt(Math.pow(r.curX-r.startX,2))),this.props.verticalSwiping&&(r.swipeLength=Math.round(Math.sqrt(Math.pow(r.curY-r.startY,2)))),s=(!1===this.props.rtl?1:-1)*(r.curX>r.startX?1:-1),this.props.verticalSwiping&&(s=r.curY>r.startY?1:-1);var n=this.state.currentSlide,o=Math.ceil(this.state.slideCount/this.props.slidesToScroll),a=this.swipeDirection(this.state.touchObject),l=r.swipeLength;!1===this.props.infinite&&(0===n&&"right"===a||o<=n+1&&"left"===a)&&(l=r.swipeLength*this.props.edgeFriction,!1===this.state.edgeDragged&&this.props.edgeEvent&&(this.props.edgeEvent(a),this.setState({edgeDragged:!0}))),!1===this.state.swiped&&this.props.swipeEvent&&(this.props.swipeEvent(a),this.setState({swiped:!0})),t=this.props.vertical?i+l*(this.state.listHeight/this.state.listWidth)*s:i+l*s,this.props.verticalSwiping&&(t=i+l*s),this.setState({touchObject:r,swipeLeft:t,trackStyle:(0,c.getTrackCSS)((0,u.default)({left:t},this.props,this.state))}),Math.abs(r.curX-r.startX)<.8*Math.abs(r.curY-r.startY)||4<r.swipeLength&&e.preventDefault()}}else e.preventDefault()},getNavigableIndexes:function(){var e=void 0,t=0,i=0,s=[];for(e=this.props.infinite?(t=-1*this.props.slidesToShow,i=-1*this.props.slidesToShow,2*this.state.slideCount):this.state.slideCount;t<e;)s.push(t),t=i+this.props.slidesToScroll,i+=this.props.slidesToScroll<=this.props.slidesToShow?this.props.slidesToScroll:this.props.slidesToShow;return s},checkNavigable:function(e){var t=this.getNavigableIndexes(),i=0;if(e>t[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=i;break}i=t[s]}return e},getSlideCount:function(){var t=this,i=this.props.centerMode?this.state.slideWidth*Math.floor(this.props.slidesToShow/2):0;if(this.props.swipeToSlide){var s=void 0,e=r.default.findDOMNode(this.list).querySelectorAll(".slick-slide");return Array.from(e).every(function(e){if(t.props.vertical){if(e.offsetTop+t.getHeight(e)/2>-1*t.state.swipeLeft)return s=e,!1}else if(e.offsetLeft-i+t.getWidth(e)/2>-1*t.state.swipeLeft)return s=e,!1;return!0}),Math.abs(s.dataset.index-this.state.currentSlide)||1}return this.props.slidesToScroll},swipeEnd:function(e){if(this.state.dragging){var t=this.state.touchObject,i=this.state.listWidth/this.props.touchThreshold,s=this.swipeDirection(t);if(this.props.verticalSwiping&&(i=this.state.listHeight/this.props.touchThreshold),this.setState({dragging:!1,edgeDragged:!1,swiped:!1,swipeLeft:null,touchObject:{}}),t.swipeLength)if(t.swipeLength>i){e.preventDefault();var r=void 0,n=void 0;switch(s){case"left":case"down":n=this.state.currentSlide+this.getSlideCount(),r=this.props.swipeToSlide?this.checkNavigable(n):n,this.state.currentDirection=0;break;case"right":case"up":n=this.state.currentSlide-this.getSlideCount(),r=this.props.swipeToSlide?this.checkNavigable(n):n,this.state.currentDirection=1;break;default:r=this.state.currentSlide}this.slideHandler(r)}else{var o=(0,c.getTrackLeft)((0,u.default)({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state));this.setState({trackStyle:(0,c.getTrackAnimateCSS)((0,u.default)({left:o},this.props,this.state))})}}else e.preventDefault()},onInnerSliderEnter:function(){this.props.autoplay&&this.props.pauseOnHover&&this.pause()},onInnerSliderLeave:function(){this.props.autoplay&&this.props.pauseOnHover&&this.autoPlay()}};i.default=n},{"./helpers":20,"./trackHelper":21,"object-assign":10,"react-dom":"react-dom"}],20:[function(e,t,i){"use strict";i.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},u=r(e("react")),d=r(e("react-dom")),p=e("./trackHelper"),h=r(e("object-assign"));function r(e){return e&&e.__esModule?e:{default:e}}var n={initialize:function(i){var e,t=d.default.findDOMNode(this.list),s=u.default.Children.count(i.children),r=this.getWidth(t),n=this.getWidth(d.default.findDOMNode(this.track));if(i.vertical)e=this.getWidth(d.default.findDOMNode(this));else{var o=i.centerMode&&2*parseInt(i.centerPadding);e=(this.getWidth(d.default.findDOMNode(this))-o)/i.slidesToShow}var a=this.getHeight(t.querySelector('[data-index="0"]')),l=a*i.slidesToShow,c=i.rtl?s-1-i.initialSlide:i.initialSlide;this.setState({slideCount:s,slideWidth:e,listWidth:r,trackWidth:n,currentSlide:c,slideHeight:a,listHeight:l},function(){var e=(0,p.getTrackLeft)((0,h.default)({slideIndex:this.state.currentSlide,trackRef:this.track},i,this.state)),t=(0,p.getTrackCSS)((0,h.default)({left:e},i,this.state));this.setState({trackStyle:t}),this.autoPlay()})},update:function(i){var e,t=d.default.findDOMNode(this.list),s=u.default.Children.count(i.children),r=this.getWidth(t),n=this.getWidth(d.default.findDOMNode(this.track));if(i.vertical)e=this.getWidth(d.default.findDOMNode(this));else{var o=i.centerMode&&2*parseInt(i.centerPadding);e=(this.getWidth(d.default.findDOMNode(this))-o)/i.slidesToShow}var a=this.getHeight(t.querySelector('[data-index="0"]')),l=a*i.slidesToShow;i.autoplay||this.pause(),this.setState({slideCount:s,slideWidth:e,listWidth:r,trackWidth:n,slideHeight:a,listHeight:l},function(){var e=(0,p.getTrackLeft)((0,h.default)({slideIndex:this.state.currentSlide,trackRef:this.track},i,this.state)),t=(0,p.getTrackCSS)((0,h.default)({left:e},i,this.state));this.setState({trackStyle:t})})},getWidth:function(e){return e.getBoundingClientRect().width||e.offsetWidth},getHeight:function(e){return e.getBoundingClientRect().height||e.offsetHeight},adaptHeight:function(){if(this.props.adaptiveHeight){var e='[data-index="'+this.state.currentSlide+'"]';if(this.list){var t=d.default.findDOMNode(this.list);t.style.height=t.querySelector(e).offsetHeight+"px"}}},canGoNext:function(e){var t=!0;return e.infinite||(e.centerMode?e.currentSlide>=e.slideCount-1&&(t=!1):(e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1)),t},slideHandler:function(e){var t,i,s,r,n,o=this;if(!this.props.waitForAnimate||!this.state.animating){if(this.props.fade){if(i=this.state.currentSlide,!1===this.props.infinite&&(e<0||e>=this.state.slideCount))return;return t=e<0?e+this.state.slideCount:e>=this.state.slideCount?e-this.state.slideCount:e,this.props.lazyLoad&&this.state.lazyLoadedList.indexOf(t)<0&&this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(t)}),n=function(){o.setState({animating:!1}),o.props.afterChange&&o.props.afterChange(t),delete o.animationEndCallback},this.setState({animating:!0,currentSlide:t},function(){this.animationEndCallback=setTimeout(n,this.props.speed)}),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,t),void this.autoPlay()}if(i=(t=e)<0?!1===this.props.infinite?0:this.state.slideCount%this.props.slidesToScroll!=0?this.state.slideCount-this.state.slideCount%this.props.slidesToScroll:this.state.slideCount+t:t>=this.state.slideCount?!1===this.props.infinite?this.state.slideCount-this.props.slidesToShow:this.state.slideCount%this.props.slidesToScroll!=0?0:t-this.state.slideCount:t,s=(0,p.getTrackLeft)((0,h.default)({slideIndex:t,trackRef:this.track},this.props,this.state)),r=(0,p.getTrackLeft)((0,h.default)({slideIndex:i,trackRef:this.track},this.props,this.state)),!1===this.props.infinite&&(s=r),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,i),this.props.lazyLoad){for(var a=!0,l=[],c=t;c<t+this.props.slidesToShow;c++)(a=a&&0<=this.state.lazyLoadedList.indexOf(c))||l.push(c);a||this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(l)})}if(!1===this.props.useCSS)this.setState({currentSlide:i,trackStyle:(0,p.getTrackCSS)((0,h.default)({left:r},this.props,this.state))},function(){this.props.afterChange&&this.props.afterChange(i)});else{var u={animating:!1,currentSlide:i,trackStyle:(0,p.getTrackCSS)((0,h.default)({left:r},this.props,this.state)),swipeLeft:null};n=function(){o.setState(u),o.props.afterChange&&o.props.afterChange(i),delete o.animationEndCallback},this.setState({animating:!0,currentSlide:i,trackStyle:(0,p.getTrackAnimateCSS)((0,h.default)({left:s},this.props,this.state))},function(){this.animationEndCallback=setTimeout(n,this.props.speed)})}this.autoPlay()}},swipeDirection:function(e){var t,i,s,r;return t=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,t),(r=Math.round(180*s/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&0<=r||r<=360&&315<=r?!1===this.props.rtl?"left":"right":135<=r&&r<=225?!1===this.props.rtl?"right":"left":!0===this.props.verticalSwiping?35<=r&&r<=135?"down":"up":"vertical"},play:function(){var e;if(!this.state.mounted)return!1;if(this.props.rtl)e=this.state.currentSlide-this.props.slidesToScroll;else{if(!this.canGoNext(s({},this.props,this.state)))return!1;e=this.state.currentSlide+this.props.slidesToScroll}this.slideHandler(e)},autoPlay:function(){this.state.autoPlayTimer||this.props.autoplay&&this.setState({autoPlayTimer:setInterval(this.play,this.props.autoplaySpeed)})},pause:function(){this.state.autoPlayTimer&&(clearInterval(this.state.autoPlayTimer),this.setState({autoPlayTimer:null}))}};i.default=n},{"./trackHelper":21,"object-assign":10,react:"react","react-dom":"react-dom"}],21:[function(e,t,i){"use strict";i.__esModule=!0,i.getTrackLeft=i.getTrackAnimateCSS=i.getTrackCSS=void 0;var o=s(e("react-dom")),n=s(e("object-assign"));function s(e){return e&&e.__esModule?e:{default:e}}function a(i,e){return e.reduce(function(e,t){return e&&i.hasOwnProperty(t)},!0)?null:console.error("Keys Missing",i)}var r=i.getTrackCSS=function(e){var t,i;a(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var s=e.slideCount+2*e.slidesToShow;e.vertical?i=s*e.slideHeight:t=e.variableWidth?(e.slideCount+2*e.slidesToShow)*e.slideWidth:e.centerMode?(e.slideCount+2*(e.slidesToShow+1))*e.slideWidth:(e.slideCount+2*e.slidesToShow)*e.slideWidth;var r={opacity:1,WebkitTransform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transition:"",WebkitTransition:"",msTransform:e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)"};return t&&(0,n.default)(r,{width:t}),i&&(0,n.default)(r,{height:i}),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?r.marginTop=e.left+"px":r.marginLeft=e.left+"px"),r};i.getTrackAnimateCSS=function(e){a(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=r(e);return t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase,t},i.getTrackLeft=function(e){a(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,i,s,r=0,n=0;if(e.fade)return 0;e.infinite?(e.slideCount>=e.slidesToShow&&(r=e.slideWidth*e.slidesToShow*-1,n=e.slideHeight*e.slidesToShow*-1),e.slideCount%e.slidesToScroll!=0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(n=e.slideIndex>e.slideCount?(r=(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideWidth*-1,(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideHeight*-1):(r=e.slideCount%e.slidesToScroll*e.slideWidth*-1,e.slideCount%e.slidesToScroll*e.slideHeight*-1))):e.slideCount%e.slidesToScroll!=0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(r=(e.slidesToShow-e.slideCount%e.slidesToScroll)*e.slideWidth);e.centerMode&&(e.infinite?r+=e.slideWidth*Math.floor(e.slidesToShow/2):r=e.slideWidth*Math.floor(e.slidesToShow/2)),t=e.vertical?e.slideIndex*e.slideHeight*-1+n:e.slideIndex*e.slideWidth*-1+r,!0===e.variableWidth&&(t=(i=e.slideCount<=e.slidesToShow||!1===e.infinite?o.default.findDOMNode(e.trackRef).childNodes[e.slideIndex]:(s=e.slideIndex+e.slidesToShow,o.default.findDOMNode(e.trackRef).childNodes[s]))?-1*i.offsetLeft:0,!0===e.centerMode&&(t=(i=!1===e.infinite?o.default.findDOMNode(e.trackRef).children[e.slideIndex]:o.default.findDOMNode(e.trackRef).children[e.slideIndex+e.slidesToShow+1])?-1*i.offsetLeft:0,t+=(e.listWidth-i.offsetWidth)/2));return t}},{"object-assign":10,"react-dom":"react-dom"}],22:[function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},n=u(e("react")),o=e("./inner-slider"),a=u(e("object-assign")),l=u(e("json2mq")),s=u(e("react-responsive-mixin")),c=u(e("./default-props"));function u(e){return e&&e.__esModule?e:{default:e}}var d=n.default.createClass({displayName:"Slider",mixins:[s.default],innerSlider:null,innerSliderRefHandler:function(e){this.innerSlider=e},getInitialState:function(){return{breakpoint:null}},componentWillMount:function(){var s=this;if(this.props.responsive){var r=this.props.responsive.map(function(e){return e.breakpoint});r.sort(function(e,t){return e-t}),r.forEach(function(e,t){var i;i=0===t?(0,l.default)({minWidth:0,maxWidth:e}):(0,l.default)({minWidth:r[t-1],maxWidth:e}),s.media(i,function(){s.setState({breakpoint:e})})});var e=(0,l.default)({minWidth:r.slice(-1)[0]});this.media(e,function(){s.setState({breakpoint:null})})}},slickPrev:function(){this.innerSlider.slickPrev()},slickNext:function(){this.innerSlider.slickNext()},slickGoTo:function(e){this.innerSlider.slickGoTo(e)},render:function(){var e,t,i=this;e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter(function(e){return e.breakpoint===i.state.breakpoint}))[0].settings?"unslick":(0,a.default)({},this.props,t[0].settings):(0,a.default)({},c.default,this.props);var s=this.props.children;return Array.isArray(s)||(s=[s]),s=s.filter(function(e){return!!e}),"unslick"===e?n.default.createElement("div",null,s):n.default.createElement(o.InnerSlider,r({ref:this.innerSliderRefHandler},e),s)}});t.exports=d},{"./default-props":14,"./inner-slider":18,json2mq:8,"object-assign":10,react:"react","react-responsive-mixin":12}],23:[function(e,t,i){"use strict";i.__esModule=!0,i.Track=void 0;var k=s(e("react")),C=s(e("object-assign")),E=s(e("classnames"));function s(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return null===e.key||void 0===e.key?t:e.key}function r(v){var S,w=[],y=[],b=[],x=k.default.Children.count(v.children);return k.default.Children.forEach(v.children,function(e,t){var i=void 0,s={message:"children",index:t,slidesToScroll:v.slidesToScroll,currentSlide:v.currentSlide};i=!v.lazyLoad|(v.lazyLoad&&0<=v.lazyLoadedList.indexOf(t))?e:k.default.createElement("div",null);var r,n,o,a,l,c,u,d,p,h=(r=(0,C.default)({},v,{index:t}),n={},void 0!==r.variableWidth&&!1!==r.variableWidth||(n.width=r.slideWidth),r.fade&&(n.position="relative",n.left=-r.index*r.slideWidth,n.opacity=r.currentSlide===r.index?1:0,n.transition="opacity "+r.speed+"ms "+r.cssEase,n.WebkitTransition="opacity "+r.speed+"ms "+r.cssEase),n),f=(o=(0,C.default)({index:t},v),c=(d=o.rtl?o.slideCount-1-o.index:o.index)<0||d>=o.slideCount,o.centerMode?(u=Math.floor(o.slidesToShow/2),l=(d-o.currentSlide)%o.slideCount==0,d>o.currentSlide-u-1&&d<=o.currentSlide+u&&(a=!0)):a=o.currentSlide<=d&&d<o.currentSlide+o.slidesToShow,(0,E.default)({"slick-slide":!0,"slick-active":a,"slick-center":l,"slick-cloned":c}));p=i.props.className?(0,E.default)(f,i.props.className):f;function m(e){i.props&&i.props.onClick&&i.props.onClick(e),v.focusOnSelect&&v.focusOnSelect(s)}if(w.push(k.default.cloneElement(i,{key:"original"+T(i,t),"data-index":t,className:p,tabIndex:"-1",style:(0,C.default)({outline:"none"},i.props.style||{},h),onClick:m})),v.infinite&&!1===v.fade){var g=v.variableWidth?v.slidesToShow+1:v.slidesToShow;x-g<=t&&(S=-(x-t),y.push(k.default.cloneElement(i,{key:"precloned"+T(i,S),"data-index":S,className:p,style:(0,C.default)({},i.props.style||{},h),onClick:m}))),t<g&&(S=x+t,b.push(k.default.cloneElement(i,{key:"postcloned"+T(i,S),"data-index":S,className:p,style:(0,C.default)({},i.props.style||{},h),onClick:m})))}}),v.rtl?y.concat(w,b).reverse():y.concat(w,b)}i.Track=k.default.createClass({displayName:"Track",render:function(){var e=r.call(this,this.props);return k.default.createElement("div",{className:"slick-track",style:this.props.trackStyle},e)}})},{classnames:2,"object-assign":10,react:"react"}],24:[function(e,t,i){t.exports=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}},{}],25:[function(e,t,i){"use strict";var s,r=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var h=e("react"),w=e("react-dom"),n=e("nouislider"),o=e("react-slick"),a=e("./image-svd"),l=e("../shared/types"),c=e("../shared/svd-worker-protocol");function u(t,i,s){void 0===s&&(s=!1);var r,n,o,a=Date.now||function(){return(new Date).getTime()},l=function(){var e=a()-o;e<i&&0<=e?r=setTimeout(l,i-e):(r=null,s||t.apply(null,n))};return function(){n=arguments,o=a();var e=s&&!r;r=r||setTimeout(l,i),e&&t.apply(null,n)}}function d(e){for(var t=e.length,i=new Float32Array(t),s=0;s<t;s++)i[s]=e[s];return i}function p(e){return{u:d(e.u),s:d(e.s),vt:d(e.vt),d:e.d,m:e.m,n:e.n}}var f,m=(f={red:g(),green:g(),blue:g()},function(r,n,o,a){function e(e){var t=e(),i=t.get(f);i.computingSvd?(i.worker.terminate(),i=g(),f=t.set(f,i)):i.computingSvd=!0;var s=e().get(o).buffer;i.worker.postMessage(c.makeSetInputReq({a:s,m:r,n:n}),[s]),i.onmessage=function(e){i.approxSvd=e.data,f.red.approxSvd&&f.green.approxSvd&&f.blue.approxSvd&&a({red:f.red.approxSvd,green:f.green.approxSvd,blue:f.blue.approxSvd,approx:!0}),i.onmessage=function(e){i.fullSvd=e.data,i.computingSvd=!1,f.red.fullSvd&&f.green.fullSvd&&f.blue.fullSvd&&a({red:f.red.fullSvd,green:f.green.fullSvd,blue:f.blue.fullSvd,approx:!1})},i.worker.postMessage(c.makeComputeSVDReq({approx:!1}))},i.worker.postMessage(c.makeComputeSVDReq({approx:!0}))}e(l.mkRedLens),e(l.mkGreenLens),e(l.mkBlueLens)});function g(){var t={computingSvd:!1,worker:new Worker("build/svd-worker.js"),onmessage:function(){},approxSvd:null,fullSvd:null};return t.worker.onmessage=function(e){t.onmessage(e)},t}var v,S=(v={},function(e){if(!v[e]){var t=new Image;t.onload=function(){v[e]=!0,console.log("Preloaded image '"+e+"'")},t.src=e}});var y,b=(y=h.Component,r(x,y),x.prototype.onChange=function(){var e=w.findDOMNode(this.refs.input).files;e&&e[0]&&this.props.onChange&&this.props.onChange(e[0])},x.prototype.render=function(){return h.createElement("span",{className:"button file-input-button"},h.createElement("span",null,this.props.label),h.createElement("input",{ref:"input",type:"file",accept:"image/*",className:"file-input",onChange:this.onChange.bind(this)}))},x);function x(){return null!==y&&y.apply(this,arguments)||this}var k,C=(k=h.Component,r(E,k),E.prototype.getImages=function(){function e(e){return e.preview="images/question_mark_small.jpg",e.quiz=!0,e}return[{name:"cats",caption:"By Jetske",source:"https://www.flickr.com/photos/jetske/5827857531/"},{name:"tree",caption:"By Moyan Brenn",source:"https://www.flickr.com/photos/aigle_dore/15061080128/"},{name:"mondrian",caption:"By Rael Garcia Arnes",source:"https://www.flickr.com/photos/raelga/4408707212/"},{name:"nyc",caption:"By Chris Isherwood",source:"https://www.flickr.com/photos/isherwoodchris/3096255994/"},{name:"girl",caption:"By Elvin",source:"https://www.flickr.com/photos/25228175@N08/5896000539/"},{name:"royal_stewart",caption:"The Royal Stewart tartan",source:"https://en.wikipedia.org/wiki/Royal_Stewart_tartan"},{url:"images/randbitmap-rdo_medium.png",preview:"images/randbitmap-rdo_small.png",caption:"Random data",source:"https://www.random.org/bitmaps/"},{name:"girih_pattern",caption:"Girih pattern by nfoCan",source:"https://en.wikipedia.org/wiki/Girih#/media/File:Samarkand_Shah-i_Zinda_Tuman_Aqa_complex_cropped2.jpg"},{caption:"Made with the KC-O-M",url:"images/keep-calm-and-use-svd_medium.png",preview:"images/keep-calm-and-use-svd_small.png",source:"http://www.keepcalm-o-matic.co.uk/"},{name:"skater_boy",caption:"By Chris Goldberg",source:"https://flic.kr/p/keMZvg"},e({name:"quiz1",caption:"By Francisco Martins",source:"https://flic.kr/p/4bpEpb"}),e({name:"quiz2",caption:"By Eleonora Gorini",source:"https://flic.kr/p/5yWPDc"}),e({name:"quiz3",caption:"By melfoody",source:"https://flic.kr/p/enTNR5"}),e({name:"quiz4",caption:"By VvG",source:"https://goo.gl/oH2BLt"}),e({name:"quiz5",caption:"By Sergiu Bacioiu",source:"https://flic.kr/p/7TdBUA"})].map(function(e,t){return{name:e.name||"image-"+t,width:150,height:150,url:e.url||"images/"+e.name+"_medium.jpg",preview:e.preview||"images/"+e.name+"_small.jpg",caption:e.caption,source:e.source,quiz:!!e.quiz}})},E.prototype.renderImage=function(t){var i=this;return h.createElement("div",{className:"image",key:t.name},h.createElement("a",{href:t.url,onClick:function(e){e.preventDefault(),i.props.onClick&&i.props.onClick(t)},onMouseOver:function(){S(t.url)}},h.createElement("img",{width:t.width,height:t.height,src:t.preview})),h.createElement("p",{className:"caption"},h.createElement("a",{href:t.source},t.caption)))},E.prototype.render=function(){return h.createElement(o,{ref:"slider",className:"gallery",slidesToShow:5,slidesToScroll:5,draggable:!1,infinite:!1,afterChange:this.props.onScroll||function(){}},this.getImages().map(this.renderImage.bind(this)))},E);function E(){return null!==k&&k.apply(this,arguments)||this}var T,M=(T=h.Component,r(N,T),N.prototype.render=function(){return h.createElement("div",{className:"slider"})},N.prototype.componentDidUpdate=function(e,t){var i=w.findDOMNode(this).noUiSlider;i&&(console.log(i.get()+" is a "+typeof i.get()),this.props.value!==i.get()&&i.set(this.props.value),this.props.maxSvs!==e.maxSvs&&(i.destroy(),this.buildSlider()))},N.prototype.componentDidMount=function(){this.buildSlider()},N.prototype.buildSlider=function(){var t=this,e=w.findDOMNode(this);function i(){return Math.round(e.noUiSlider.get())}n.create(e,this.getSliderOptions()),e.noUiSlider.on("update",u(function(){var e=i();e!==t.props.value&&t.props.onUpdate&&t.props.onUpdate(e)},50)),e.noUiSlider.on("change",u(function(){var e=i();e!==t.props.value&&t.props.onChange&&t.props.onChange(e)},50))},N.prototype.getSliderOptions=function(){for(var e=this.props.max,t=this.props.maxSvs,i=[],s=1;s<20;s++)i.push(s);for(s=20;s<100;s+=5)i.push(s);for(s=100;s<e;s+=10)i.push(s);return i.push(e),{behaviour:"snap",range:{min:[1,1],"18%":[10,2],"30%":[20,10],"48%":[100,20],max:[e]},start:this.props.value,pips:{mode:"values",values:i,density:10,filter:function(e){return t<e?0:1===e||10===e||20===e||e%100==0?1:e<10||e<20&&e%2==0||e<100&&e%10==0||e%20==0?2:0}}}},N);function N(){return null!==T&&T.apply(this,arguments)||this}i.SVSlider=M;var O,L=(O=h.Component,r(D,O),D.prototype.componentDidMount=function(){this.paint()},D.prototype.componentDidUpdate=function(){this.paint()},D.prototype.onMouseEnter=function(){this.setState({hover:!0})},D.prototype.onMouseOut=function(){this.setState({hover:!1})},D.prototype.render=function(){return h.createElement("canvas",{width:this.props.width,height:this.props.height,onMouseEnter:this.onMouseEnter.bind(this),onMouseOut:this.onMouseOut.bind(this)})},D);function D(e){var t=O.call(this,e)||this;return t.setState({hover:!1}),t}var P,H=(r(j,P=L),j.prototype.shouldComponentUpdate=function(e,t){return e.svds!==this.props.svds?(this.imageData=null,this.products=null):this.products&&e.numSvs!==this.props.numSvs&&(e.numSvs>this.props.numSvs?(this.imageDataUpdates++,a.multiplySvds(this.props.svds,this.products,this.props.numSvs,e.numSvs,1)):this.props.numSvs-e.numSvs<e.numSvs?(this.imageDataUpdates++,a.multiplySvds(this.props.svds,this.products,e.numSvs,this.props.numSvs,-1)):this.products=null),!0},j.prototype.initProducts=function(){var e=this.props.width,t=this.props.height;return{red:new Float32Array(t*e),green:new Float32Array(t*e),blue:new Float32Array(t*e)}},j.prototype.computeProductsFromScratch=function(){this.products&&(a.multiplySvds(this.props.svds,this.products,0,this.props.numSvs,1),this.imageDataUpdates=0)},j.prototype.getProducts=function(){return this.products||(this.products=this.initProducts(),this.computeProductsFromScratch()),this.products},j.prototype.refreshImageData=function(){20<=this.imageDataUpdates&&(this.computeProductsFromScratch(),this.paint())},j.prototype.paint=function(){var e=this.props.width,t=this.props.height,i=w.findDOMNode(this).getContext("2d");if(i)if(this.state.hover&&this.props.hoverToSeeOriginal)i.drawImage(this.props.img,0,0,e,t);else{this.imageData||(i.fillStyle="#000",i.fillRect(0,0,e,t),this.imageData=i.getImageData(0,0,e,t));for(var s=this.imageData.data,r=this.getProducts(),n=r.red,o=r.green,a=r.blue,l=0;l<t;l++)for(var c=0;c<e;c++){var u=l*e+c,d=4*u;s[d]=n[u],s[1+d]=o[u],s[2+d]=a[u]}i.putImageData(this.imageData,0,0)}},j);function j(e){var t=P.call(this,e)||this;return t.products=null,t.imageData=null,t.state={hover:!1},t}var _,U=(r(I,_=L),I.prototype.paint=function(){var e=this.props.width,t=this.props.height,i=w.findDOMNode(this).getContext("2d");if(i){var s=this.state.hover;i.clearRect(0,0,e,t),i.fillStyle=s?"rgb(90, 90, 90)":"rgba(90, 90, 90, 0.35)",i.fillRect(0,0,e,t);for(var r=this.props.svds.red.s,n=this.props.svds.green.s,o=this.props.svds.blue.s,a=(r[5]+n[5]+o[5])/(3*t),l=this.props.numSvs,c=this.props.svds.red.d,u=i.getImageData(0,0,e,t),d=u.data,p=0;p<c;p++)for(var h=Math.round(r[p]/a),f=Math.round(n[p]/a),m=Math.round(o[p]/a),g=p<l?30:0,v=0;v<t;v++){var S=4*((t-v)*e+p);d[S]=(v<h?225:100)+g,d[1+S]=(v<f?225:100)+g,d[2+S]=(v<m?225:100)+g,d[3+S]=s?255:(d[S]+d[1+S]+d[2+S])/3}i.putImageData(u,0,0)}},I);function I(e){var t=_.call(this,e)||this;return t.state={hover:!1},t}function A(e){return Math.floor(Math.random()*e)}var W,z=(W=h.Component,r(q,W),q.prototype.render=function(){var e=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");i.drawImage(e,0,0);for(var s=0,r=0,n=0,o=0;o<10;o++){var a=A(e.width),l=A(e.height),c=i.getImageData(a,l,1,1).data;s+=c[0],r+=c[1],n+=c[2]}var u=Math.floor;return"rgb("+u(s/10)+","+u(r/10)+","+u(n/10)+")"}(this.props.img),t={width:this.props.width,height:this.props.height,background:e};return h.createElement("div",{className:"placeholder",style:t})},q);function q(){return null!==W&&W.apply(this,arguments)||this}var R=600,F=402,V="images/mountains_sea.jpg",B="images/mountains_sea_5svs.jpg";function Y(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return 1}var G,X=(G=h.Component,r(Q,G),Q.prototype.componentDidMount=function(){window.ondragover=this.onDragOver.bind(this),this.loadImage(V,B)},Q.prototype.initializeImage=function(e){var t,i=this,s=e.width,r=e.height;try{t=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),i.getImageData(0,0,e.width,e.height)}(e)}catch(e){if(e.message.match(/(tainted|cross\-origin|insecure)/))return window.alert("Due to browser limitations (cross-origin policy), it isn't possible use pictures dragged from other sites. You have to save the image locally before you can use it.");throw e}if(!(1e3<s||1e3<r)||window.confirm("Your image is quite large. Computing the SVD may take a while. Continue?")){this.setState({width:s,height:r,img:e,svds:null,error:""});var n=a.imageDataToPixels(t);m(r,s,n,function(e){var t;i.setState({svds:{red:p((t=e).red),green:p(t.green),blue:p(t.blue)},approx:e.approx})})}},Q.prototype.loadImage=function(e,t){var i,s,r;void 0===t&&(t=null),this.setState({placeholderImg:t}),i=e,s=this.initializeImage.bind(this),(r=new Image).onload=function(){s(r)},/^http/.test(i)?(console.log("cors"),r.crossOrigin="anonymous",r.src="http://crossorigin.me/"+i):r.src=i},Q.prototype.onDragOver=function(e){if(e.preventDefault(),!this.state.hover){var t=e.dataTransfer.types,i=Y(t,"text/uri-list")||Y(t,"Files")?"":"The dragged object is not an image!";this.setState({hover:!0,error:i})}},Q.prototype.onDragLeave=function(e){this.setState({hover:!1,error:""})},Q.prototype.onDrop=function(e){this.setState({hover:!1}),e.preventDefault();var t=e.dataTransfer.files;t&&0<t.length?this.onFileChosen(t[0]):Y(e.dataTransfer.types,"text/uri-list")&&this.loadImage(e.dataTransfer.getData("text/uri-list"))},Q.prototype.onFileChosen=function(e){var i=this;if(e.type.match(/^image\/.*/)){this.setState({error:""});var t=new FileReader;t.onload=function(e){var t=e.target;i.loadImage(t.result)},t.readAsDataURL(e)}else this.setState({error:"The chosen file is not an image! Try another file ..."})},Q.prototype.onUpdateSvs=function(e){this.setState({numSvs:e})},Q.prototype.onChangeSvs=function(e){var t=this;window.setTimeout(function(){t.refs.svdView.refreshImageData()},400)},Q.prototype.clickShowSvs=function(e){e.preventDefault(),this.setState({showSvs:!this.state.showSvs})},Q.prototype.clickHoverToSeeOriginal=function(e){e.preventDefault(),this.setState({hoverToSeeOriginal:!this.state.hoverToSeeOriginal})},Q.prototype.onClickGallery=function(e){e.quiz&&this.setState({numSvs:1}),this.loadImage(e.url)},Q.prototype.onScrollGallery=function(e){var t=10===e;this.state.guessingPage!==t&&this.setState({guessingPage:t,hoverToSeeOriginal:!t})},Q.prototype.render=function(){var e=this.state.width,t=this.state.height,i=this.state,s=i.img,r=i.placeholderImg,n=i.numSvs,o=null;this.state.error?o=this.state.error:this.state.hover?o="Drop now!":this.state.svds?this.state.approx&&(o=h.createElement("span",null,"Showing approximate SVD ",h.createElement("img",{src:"deps/spinner.gif",width:"16",height:"16"})," Computing precise result ")):o=h.createElement("span",null,"Please wait ");var a,l={width:e+240,height:t-20},c=h.createElement("div",{className:"drop-target "+(this.state.error?"":"active"),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),onDrop:this.onDrop.bind(this)}),u=null;this.state.svds&&s?(u=h.createElement(H,{ref:"svdView",svds:this.state.svds,numSvs:n,width:e,height:t,img:s,hoverToSeeOriginal:this.state.hoverToSeeOriginal}),a=this.state.svds.red.d):(a=1,r?u=h.createElement("img",{width:e,height:t,src:r}):s&&(u=h.createElement(z,{width:e,height:t,img:s})));var d=t*n+n+n*e,p=h.createElement("div",{className:"stats",style:{left:e+20}},h.createElement("table",null,h.createElement("tbody",null,h.createElement("tr",null,h.createElement("th",{className:"label"},"Image size"),h.createElement("td",null,e,"  ",t)),h.createElement("tr",null,h.createElement("th",{className:"label"},"#pixels"),h.createElement("td",null,"= ",e*t)))),h.createElement("p",null,h.createElement("span",{className:"label"},"Uncompressed size"),h.createElement("br",null),"proportional to number of pixels"),h.createElement("p",null,h.createElement("span",{className:"label"},"Compressed size"),h.createElement("br",null),"approximately proportional to ",h.createElement("br",null),t,"",n," + ",n," + ",n,"",e," ",h.createElement("br",null),"= ",d),h.createElement("p",null,h.createElement("span",{className:"label"},"Compression ratio"),h.createElement("br",null),e*t," / ",d," = ",(e*t/d).toFixed(2)),h.createElement("p",null,h.createElement("a",{className:"button toggle-show-svs "+(this.state.showSvs?"active":""),href:"#",onClick:this.clickShowSvs.bind(this)},"Show singular values")),h.createElement("p",{className:"hint"},h.createElement("a",{className:"toggle-hover-original "+(this.state.hoverToSeeOriginal?"active":""),href:"#",onClick:this.clickHoverToSeeOriginal.bind(this)},h.createElement("span",{className:"check-box"},this.state.hoverToSeeOriginal?h.createElement("span",null,""):h.createElement("span",null,"")),h.createElement("span",{className:"text"},"hover to see the original picture"))));return h.createElement("div",null,this.state.hover?c:"",h.createElement("div",{className:"image-container",style:l},u||"",this.state.svds&&this.state.showSvs?h.createElement(U,{svds:this.state.svds,numSvs:n,width:e,height:t}):"",o?h.createElement("p",{className:"info-bar"},o):"",p),h.createElement("div",{className:"wrapper"},h.createElement("div",{className:"options"},h.createElement(M,{value:n,maxSvs:a,onUpdate:this.onUpdateSvs.bind(this),onChange:this.onChangeSvs.bind(this),max:Math.min(e,t)})),h.createElement("p",null,this.state.guessingPage?"How many singular values do you need to recognize the subject of these pictures?":"Change the number of singular values using the slider. Click on one of these images to compress it:"),h.createElement(C,{ref:"gallery",onClick:this.onClickGallery.bind(this),onScroll:this.onScrollGallery.bind(this)}),h.createElement("p",null,h.createElement("span",{className:"valign"},"You can compress your own images by using the"),h.createElement(b,{onChange:this.onFileChosen.bind(this),label:"file picker"}),h.createElement("span",{className:"valign"},"or by dropping them on this page."))))},Q);function Q(e){var t=G.call(this,e)||this;return t.state={width:R,height:F,placeholderImg:B,numSvs:5,approx:!0,showSvs:!1,error:"",hoverToSeeOriginal:!0,guessingPage:!1,hover:!1,img:null,svds:null},t}w.render(h.createElement(X,null),document.getElementById("app"))},{"../shared/svd-worker-protocol":27,"../shared/types":28,"./image-svd":26,nouislider:9,react:"react","react-dom":"react-dom","react-slick":16}],26:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.imageDataToPixels=function(e){for(var t=e.width,i=e.height,s=new Float64Array(i*t),r=new Float64Array(i*t),n=new Float64Array(i*t),o=0,a=0;a<i;a++)for(var l=0;l<t;l++){var c=l*i+a;s[c]=e.data[o],r[c]=e.data[o+1],n[c]=e.data[o+2],o+=4}return{red:s,green:r,blue:n}},i.multiplySvds=function(e,t,i,s,r){var n="multiplySvds"+Math.round(100*Math.random());console.time(n);var o=e.red,a=e.green,l=e.blue,c=o.n,u=o.m,d=o.d;s=Math.min(s,d);for(var p=o.u,h=o.vt,f=o.s,m=a.u,g=a.vt,v=a.s,S=l.u,w=l.vt,y=l.s,b=t.red,x=t.green,k=t.blue,C=0;C<u;C++)for(var E=0;E<c;E++){for(var T=0,M=0,N=0,O=s-1;i<=O;O--)T+=p[O*u+C]*f[O]*h[E*d+O],M+=m[O*u+C]*v[O]*g[E*d+O],N+=S[O*u+C]*y[O]*w[E*d+O];var L=C*c+E;b[L]+=T*r,x[L]+=M*r,k[L]+=N*r}console.timeEnd(n)}},{}],27:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeSetInputReq=function(e){return{msg:"set-input",a:e.a,m:e.m,n:e.n}},i.makeComputeSVDReq=function(e){return{msg:"compute-svd",approx:e.approx}}},{}],28:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mkRedLens=function(){return{get:function(e){return e.red},set:function(e,t){return{red:t,green:e.green,blue:e.blue}}}},i.mkGreenLens=function(){return{get:function(e){return e.green},set:function(e,t){return{red:e.red,green:t,blue:e.blue}}}},i.mkBlueLens=function(){return{get:function(e){return e.blue},set:function(e,t){return{red:e.red,green:e.green,blue:t}}}}},{}]},{},[25]);
//# sourceMappingURL=app.js.map
