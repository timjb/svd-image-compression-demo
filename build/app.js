!function(){function e(t,i,r){function n(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return n(i||e)},u,u.exports,e,t,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}return e}()({1:[function(e,t,i){var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=r},{}],2:[function(e,t,i){!function(){"use strict";function e(){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(n){var s=typeof n;if("string"===s||"number"===s)t.push(n);else if(Array.isArray(n)&&n.length){var o=e.apply(null,n);o&&t.push(o)}else if("object"===s)for(var a in n)i.call(n,a)&&n[a]&&t.push(a)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}()},{}],3:[function(e,t,i){function r(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var i=this;this.listener=function(e){i.mql=e.currentTarget||e,i.assess()},this.mql.addListener(this.listener)}var n=e("./QueryHandler"),s=e("./Util").each;r.prototype={constuctor:r,addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;s(t,function(i,r){if(i.equals(e))return i.destroy(),!t.splice(r,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){s(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";s(this.handlers,function(t){t[e]()})}},t.exports=r},{"./QueryHandler":5,"./Util":6}],4:[function(e,t,i){function r(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}var n=e("./MediaQuery"),s=e("./Util"),o=s.each,a=s.isFunction,l=s.isArray;r.prototype={constructor:r,register:function(e,t,i){var r=this.queries,s=i&&this.browserIsIncapable;return r[e]||(r[e]=new n(e,s)),a(t)&&(t={match:t}),l(t)||(t=[t]),o(t,function(t){a(t)&&(t={match:t}),r[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},t.exports=r},{"./MediaQuery":3,"./Util":6}],5:[function(e,t,i){function r(e){this.options=e,!e.deferSetup&&this.setup()}r.prototype={constructor:r,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},t.exports=r},{}],6:[function(e,t,i){function r(e,t){var i,r=0,n=e.length;for(r;r<n&&(i=t(e[r],r),i!==!1);r++);}function n(e){return"[object Array]"===Object.prototype.toString.apply(e)}function s(e){return"function"==typeof e}t.exports={isFunction:s,isArray:n,each:r}},{}],7:[function(e,t,i){var r=e("./MediaQueryDispatch");t.exports=new r},{"./MediaQueryDispatch":4}],8:[function(e,t,i){var r=e("string-convert/camel2hyphen"),n=function(e){var t=/[height|width]$/;return t.test(e)},s=function(e){var t="",i=Object.keys(e);return i.forEach(function(s,o){var a=e[s];s=r(s),n(s)&&"number"==typeof a&&(a+="px"),t+=a===!0?s:a===!1?"not "+s:"("+s+": "+a+")",o<i.length-1&&(t+=" and ")}),t},o=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach(function(i,r){t+=s(i),r<e.length-1&&(t+=", ")}),t):s(e)};t.exports=o},{"string-convert/camel2hyphen":24}],9:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof i?t.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e,t){var i=document.createElement("div");return c(i,t),e.appendChild(i),i}function t(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function i(e,t){return Math.round(e/t)*t}function r(e,t){var i=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,s=p();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),t?i.top+s.y-n.clientTop:i.left+s.x-n.clientLeft}function n(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function s(e,t,i){i>0&&(c(e,t),setTimeout(function(){u(e,t)},i))}function o(e){return Math.max(Math.min(e,100),0)}function a(e){return Array.isArray(e)?e:[e]}function l(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function p(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),i=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,r=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:i,y:r}}function h(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function f(e,t){return 100/(t-e)}function m(e,t){return 100*t/(e[1]-e[0])}function g(e,t){return m(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function v(e,t){return t*(e[1]-e[0])/100+e[0]}function S(e,t){for(var i=1;e>=t[i];)i+=1;return i}function w(e,t,i){if(i>=e.slice(-1)[0])return 100;var r,n,s,o,a=S(i,e);return r=e[a-1],n=e[a],s=t[a-1],o=t[a],s+g([r,n],i)/f(s,o)}function y(e,t,i){if(i>=100)return e.slice(-1)[0];var r,n,s,o,a=S(i,t);return r=e[a-1],n=e[a],s=t[a-1],o=t[a],v([r,n],(i-s)*f(s,o))}function b(e,t,r,n){if(100===n)return n;var s,o,a=S(n,e);return r?(s=e[a-1],o=e[a],n-s>(o-s)/2?o:s):t[a-1]?e[a-1]+i(n-e[a-1],t[a-1]):n}function x(e,t,i){var r;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider ("+Y+"): 'range' contains invalid value.");if(r="min"===e?0:"max"===e?100:parseFloat(e),!n(r)||!n(t[0]))throw new Error("noUiSlider ("+Y+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(t[0]),r?i.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(i.xSteps[0]=t[1]),i.xHighestCompleteStep.push(0)}function k(e,t,i){if(!t)return!0;i.xSteps[e]=m([i.xVal[e],i.xVal[e+1]],t)/f(i.xPct[e],i.xPct[e+1]);var r=(i.xVal[e+1]-i.xVal[e])/i.xNumSteps[e],n=Math.ceil(Number(r.toFixed(3))-1),s=i.xVal[e]+i.xNumSteps[e]*n;i.xHighestCompleteStep[e]=s}function C(e,t,i,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t,this.direction=i;var n,s=[];for(n in e)e.hasOwnProperty(n)&&s.push([e[n],n]);for(s.length&&"object"==typeof s[0][0]?s.sort(function(e,t){return e[0][0]-t[0][0]}):s.sort(function(e,t){return e[0]-t[0]}),n=0;n<s.length;n++)x(s[n][1],s[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)k(n,this.xNumSteps[n],this)}function E(e,t){if(!n(t))throw new Error("noUiSlider ("+Y+"): 'step' is not numeric.");e.singleStep=t}function T(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+Y+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+Y+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+Y+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new C(t,e.snap,e.dir,e.singleStep)}function M(e,t){if(t=a(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+Y+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function N(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+Y+"): 'snap' option must be a boolean.")}function O(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+Y+"): 'animate' option must be a boolean.")}function L(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider ("+Y+"): 'animationDuration' option must be a number.")}function D(e,t){var i,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),t===!0||t===!1){for(i=1;i<e.handles;i++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+Y+"): 'connect' option doesn't match handle count.");r=t}e.connect=r}function P(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+Y+"): 'orientation' option is invalid.")}}function H(e,t){if(!n(t))throw new Error("noUiSlider ("+Y+"): 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider ("+Y+"): 'margin' option is only supported on linear sliders.")}function j(e,t){if(!n(t))throw new Error("noUiSlider ("+Y+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||e.handles<2)throw new Error("noUiSlider ("+Y+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function U(e,t){if(!n(t))throw new Error("noUiSlider ("+Y+"): 'padding' option must be numeric.");if(0!==t){if(e.padding=e.spectrum.getMargin(t),!e.padding)throw new Error("noUiSlider ("+Y+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+Y+"): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider ("+Y+"): 'padding' option must be less than half the range.")}}function I(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+Y+"): 'direction' option was not recognized.")}}function A(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+Y+"): 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,n=t.indexOf("fixed")>=0,s=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0;if(n){if(2!==e.handles)throw new Error("noUiSlider ("+Y+"): 'fixed' behaviour must be used with 2 handles");H(e,e.start[1]-e.start[0])}e.events={tap:i||s,drag:r,fixed:n,snap:s,hover:o}}function W(e,t){if(t!==!1)if(t===!0){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(!0)}else{if(e.tooltips=a(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+Y+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+Y+"): 'tooltips' must be passed a formatter or 'false'.")})}}function _(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider ("+Y+"): 'format' requires 'to' and 'from' methods.")}function z(e,t){if(void 0!==t&&"string"!=typeof t&&t!==!1)throw new Error("noUiSlider ("+Y+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function q(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider ("+Y+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var i in t)t.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+t[i])}else e.cssClasses=t}function R(e,t){if(t!==!0&&t!==!1)throw new Error("noUiSlider ("+Y+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function F(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,format:G},i={step:{r:!1,t:E},start:{r:!0,t:M},connect:{r:!0,t:D},direction:{r:!0,t:I},snap:{r:!1,t:N},animate:{r:!1,t:O},animationDuration:{r:!1,t:L},range:{r:!0,t:T},orientation:{r:!1,t:P},margin:{r:!1,t:H},limit:{r:!1,t:j},padding:{r:!1,t:U},behaviour:{r:!0,t:A},format:{r:!1,t:_},tooltips:{r:!1,t:W},cssPrefix:{r:!1,t:z},cssClasses:{r:!1,t:q},useRequestAnimationFrame:{r:!1,t:R}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(i).forEach(function(n){if(void 0===e[n]&&void 0===r[n]){if(i[n].r)throw new Error("noUiSlider ("+Y+"): '"+n+"' is required.");return!0}i[n].t(t,void 0===e[n]?r[n]:e[n])}),t.pips=e.pips;var n=[["left","top"],["right","bottom"]];return t.style=n[t.dir][t.ort],t.styleOposite=n[t.dir?0:1][t.ort],t}function V(i,n,l){function f(t,i){var r=e(t,n.cssClasses.origin),s=e(r,n.cssClasses.handle);return s.setAttribute("data-handle",i),0===i?c(s,n.cssClasses.handleLower):i===n.handles-1&&c(s,n.cssClasses.handleUpper),r}function m(t,i){return!!i&&e(t,n.cssClasses.connect)}function g(e,t){ie=[],re=[],re.push(m(t,e[0]));for(var i=0;i<n.handles;i++)ie.push(f(t,i)),le[i]=i,re.push(m(t,e[i+1]))}function v(t){c(t,n.cssClasses.target),0===n.dir?c(t,n.cssClasses.ltr):c(t,n.cssClasses.rtl),0===n.ort?c(t,n.cssClasses.horizontal):c(t,n.cssClasses.vertical),te=e(t,n.cssClasses.base)}function S(t,i){return!!n.tooltips[i]&&e(t.firstChild,n.cssClasses.tooltip)}function w(){var e=ie.map(S);$("update",function(t,i,r){if(e[i]){var s=t[i];n.tooltips[i]!==!0&&(s=n.tooltips[i].to(r[i])),e[i].innerHTML=s}})}function y(e,t,i){if("range"===e||"steps"===e)return ue.xVal;if("count"===e){if(!t)throw new Error("noUiSlider ("+Y+"): 'values' required for mode 'count'.");var r,n=100/(t-1),s=0;for(t=[];(r=s++*n)<=100;)t.push(r);e="positions"}return"positions"===e?t.map(function(e){return ue.fromStepping(i?ue.getStep(e):e)}):"values"===e?i?t.map(function(e){return ue.fromStepping(ue.getStep(ue.toStepping(e)))}):t:void 0}function b(e,i,r){function n(e,t){return(e+t).toFixed(7)/1}var s={},o=ue.xVal[0],a=ue.xVal[ue.xVal.length-1],l=!1,c=!1,u=0;return r=t(r.slice().sort(function(e,t){return e-t})),r[0]!==o&&(r.unshift(o),l=!0),r[r.length-1]!==a&&(r.push(a),c=!0),r.forEach(function(t,o){var a,d,p,h,f,m,g,v,S,w,y=t,b=r[o+1];if("steps"===i&&(a=ue.xNumSteps[o]),a||(a=b-y),y!==!1&&void 0!==b)for(a=Math.max(a,1e-7),d=y;d<=b;d=n(d,a)){for(h=ue.toStepping(d),f=h-u,v=f/e,S=Math.round(v),w=f/S,p=1;p<=S;p+=1)m=u+p*w,s[m.toFixed(5)]=["x",0];g=r.indexOf(d)>-1?1:"steps"===i?2:0,!o&&l&&(g=0),d===b&&c||(s[h.toFixed(5)]=[d,g]),u=h}}),s}function x(e,t,i){function r(e,t){var i=t===n.cssClasses.value,r=i?p:h,s=i?u:d;return t+" "+r[n.ort]+" "+s[e]}function s(e,t,i){return'class="'+r(i[1],t)+'" style="'+n.style+": "+e+'%"'}function o(e,r){r[1]=r[1]&&t?t(r[0],r[1]):r[1],l+="<div "+s(e,n.cssClasses.marker,r)+"></div>",r[1]&&(l+="<div "+s(e,n.cssClasses.value,r)+">"+i.to(r[0])+"</div>")}var a=document.createElement("div"),l="",u=[n.cssClasses.valueNormal,n.cssClasses.valueLarge,n.cssClasses.valueSub],d=[n.cssClasses.markerNormal,n.cssClasses.markerLarge,n.cssClasses.markerSub],p=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],h=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];return c(a,n.cssClasses.pips),c(a,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){o(t,e[t])}),a.innerHTML=l,a}function k(e){var t=e.mode,i=e.density||1,r=e.filter||!1,n=e.values||!1,s=e.stepped||!1,o=y(t,n,s),a=b(i,t,o),l=e.format||{to:Math.round};return oe.appendChild(x(a,r,l))}function C(){var e=te.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return 0===n.ort?e.width||te[t]:e.height||te[t]}function E(e,t,i,r){var s=function(t){return!oe.hasAttribute("disabled")&&(!d(oe,n.cssClasses.tap)&&(!!(t=T(t,r.pageOffset))&&(!(e===se.start&&void 0!==t.buttons&&t.buttons>1)&&((!r.hover||!t.buttons)&&(t.calcPoint=t.points[n.ort],void i(t,r))))))},o=[];return e.split(" ").forEach(function(e){t.addEventListener(e,s,!1),o.push([e,s])}),o}function T(e,t){e.preventDefault();var i,r,n=0===e.type.indexOf("touch"),s=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(o=!0),n){if(e.touches.length>1)return!1;i=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY}return t=t||p(),(s||o)&&(i=e.clientX+t.x,r=e.clientY+t.y),e.pageOffset=t,e.points=[i,r],e.cursor=s||o,e}function M(e){var t=e-r(te,n.ort),i=100*t/C();return n.dir?100-i:i}function N(e){var t=100,i=!1;return ie.forEach(function(r,n){if(!r.hasAttribute("disabled")){var s=Math.abs(ae[n]-e);s<t&&(i=n,t=s)}}),i}function O(e,t,i,r){var n=i.slice(),s=[!e,e],o=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach(function(e,i){var r=W(n,e,n[e]+t,s[i],o[i]);r===!1?t=0:(t=r-n[e],n[e]=r)}):s=o=[!0];var a=!1;r.forEach(function(e,r){a=R(e,i[e]+t,s[r],o[r])||a}),a&&r.forEach(function(e){L("update",e),L("slide",e)})}function L(e,t,i){Object.keys(pe).forEach(function(r){var s=r.split(".")[0];e===s&&pe[r].forEach(function(e){e.call(ne,de.map(n.format.to),t,de.slice(),i||!1,ae.slice())})})}function D(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&H(e,t)}function P(e,t){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===e.buttons&&0!==t.buttonsProperty)return H(e,t);var i=(n.dir?-1:1)*(e.calcPoint-t.startCalcPoint),r=100*i/t.baseSize;O(i>0,r,t.locations,t.handleNumbers)}function H(e,t){ce&&(u(ce,n.cssClasses.active),ce=!1),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(e){document.documentElement.removeEventListener(e[0],e[1])}),u(oe,n.cssClasses.drag),q(),t.handleNumbers.forEach(function(e){L("set",e),L("change",e),L("end",e)})}function j(e,t){if(1===t.handleNumbers.length){var i=ie[t.handleNumbers[0]];if(i.hasAttribute("disabled"))return!1;ce=i.children[0],c(ce,n.cssClasses.active)}e.preventDefault(),e.stopPropagation();var r=E(se.move,document.documentElement,P,{startCalcPoint:e.calcPoint,baseSize:C(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:ae.slice()}),s=E(se.end,document.documentElement,H,{handleNumbers:t.handleNumbers}),o=E("mouseout",document.documentElement,D,{handleNumbers:t.handleNumbers});if(document.documentElement.noUiListeners=r.concat(s,o),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,ie.length>1&&c(oe,n.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}t.handleNumbers.forEach(function(e){L("start",e)})}function U(e){e.stopPropagation();var t=M(e.calcPoint),i=N(t);return i!==!1&&(n.events.snap||s(oe,n.cssClasses.tap,n.animationDuration),R(i,t,!0,!0),q(),L("slide",i,!0),L("set",i,!0),L("change",i,!0),L("update",i,!0),void(n.events.snap&&j(e,{handleNumbers:[i]})))}function I(e){var t=M(e.calcPoint),i=ue.getStep(t),r=ue.fromStepping(i);Object.keys(pe).forEach(function(e){"hover"===e.split(".")[0]&&pe[e].forEach(function(e){e.call(ne,r)})})}function A(e){e.fixed||ie.forEach(function(e,t){E(se.start,e.children[0],j,{handleNumbers:[t]})}),e.tap&&E(se.start,te,U,{}),e.hover&&E(se.move,te,I,{hover:!0}),e.drag&&re.forEach(function(t,i){if(t!==!1&&0!==i&&i!==re.length-1){var r=ie[i-1],s=ie[i],o=[t];c(t,n.cssClasses.draggable),e.fixed&&(o.push(r.children[0]),o.push(s.children[0])),o.forEach(function(e){E(se.start,e,j,{handles:[r,s],handleNumbers:[i-1,i]})})}})}function W(e,t,i,r,s){return ie.length>1&&(r&&t>0&&(i=Math.max(i,e[t-1]+n.margin)),s&&t<ie.length-1&&(i=Math.min(i,e[t+1]-n.margin))),ie.length>1&&n.limit&&(r&&t>0&&(i=Math.min(i,e[t-1]+n.limit)),s&&t<ie.length-1&&(i=Math.max(i,e[t+1]-n.limit))),n.padding&&(0===t&&(i=Math.max(i,n.padding)),t===ie.length-1&&(i=Math.min(i,100-n.padding))),i=ue.getStep(i),i=o(i),i!==e[t]&&i}function _(e){return e+"%"}function z(e,t){ae[e]=t,de[e]=ue.fromStepping(t);var i=function(){ie[e].style[n.style]=_(t),V(e),V(e+1)};window.requestAnimationFrame&&n.useRequestAnimationFrame?window.requestAnimationFrame(i):i()}function q(){le.forEach(function(e){var t=ae[e]>50?-1:1,i=3+(ie.length+t*e);ie[e].childNodes[0].style.zIndex=i})}function R(e,t,i,r){return t=W(ae,e,t,i,r),t!==!1&&(z(e,t),!0)}function V(e){if(re[e]){var t=0,i=100;0!==e&&(t=ae[e-1]),e!==re.length-1&&(i=ae[e]),re[e].style[n.style]=_(t),re[e].style[n.styleOposite]=_(100-i)}}function B(e,t){null!==e&&e!==!1&&("number"==typeof e&&(e=String(e)),e=n.format.from(e),e===!1||isNaN(e)||R(t,ue.toStepping(e),!1,!1))}function G(e,t){var i=a(e),r=void 0===ae[0];t=void 0===t||!!t,i.forEach(B),n.animate&&!r&&s(oe,n.cssClasses.tap,n.animationDuration),le.forEach(function(e){R(e,ae[e],!0,!1)}),q(),le.forEach(function(e){L("update",e),null!==i[e]&&t&&L("set",e)})}function X(e){G(n.start,e)}function Q(){var e=de.map(n.format.to);return 1===e.length?e[0]:e}function K(){for(var e in n.cssClasses)n.cssClasses.hasOwnProperty(e)&&u(oe,n.cssClasses[e]);for(;oe.firstChild;)oe.removeChild(oe.firstChild);delete oe.noUiSlider}function Z(){return ae.map(function(e,t){var i=ue.getNearbySteps(e),r=de[t],n=i.thisStep.step,s=null;n!==!1&&r+n>i.stepAfter.startValue&&(n=i.stepAfter.startValue-r),s=r>i.thisStep.startValue?i.thisStep.step:i.stepBefore.step!==!1&&r-i.stepBefore.highestStep,100===e?n=null:0===e&&(s=null);var o=ue.countStepDecimals();return null!==n&&n!==!1&&(n=Number(n.toFixed(o))),null!==s&&s!==!1&&(s=Number(s.toFixed(o))),[s,n]})}function $(e,t){pe[e]=pe[e]||[],pe[e].push(t),"update"===e.split(".")[0]&&ie.forEach(function(e,t){L("update",t)})}function J(e){var t=e&&e.split(".")[0],i=t&&e.substring(t.length);Object.keys(pe).forEach(function(e){var r=e.split(".")[0],n=e.substring(r.length);t&&t!==r||i&&i!==n||delete pe[e]})}function ee(e,t){var i=Q(),r=["margin","limit","padding","range","animate","snap","step","format"];r.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var s=F(l);r.forEach(function(t){void 0!==e[t]&&(n[t]=s[t])}),s.spectrum.direction=ue.direction,ue=s.spectrum,n.margin=s.margin,n.limit=s.limit,n.padding=s.padding,ae=[],G(e.start||i,t)}var te,ie,re,ne,se=h(),oe=i,ae=[],le=[],ce=!1,ue=n.spectrum,de=[],pe={};if(oe.noUiSlider)throw new Error("noUiSlider ("+Y+"): Slider was already initialized.");return v(oe),g(n.connect,te),ne={destroy:K,steps:Z,on:$,off:J,get:Q,set:G,reset:X,__moveHandles:function(e,t,i){O(e,t,ae,i)},options:l,updateOptions:ee,target:oe,pips:k},A(n.events),G(n.start),n.pips&&k(n.pips),n.tooltips&&w(),ne}function B(e,t){if(!e.nodeName)throw new Error("noUiSlider ("+Y+"): create requires a single element.");var i=F(t,e),r=V(e,i,t);return e.noUiSlider=r,r}var Y="9.2.0";C.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!==0)throw new Error("noUiSlider ("+Y+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&m(this.xVal,e)},C.prototype.toStepping=function(e){return e=w(this.xVal,this.xPct,e)},C.prototype.fromStepping=function(e){return y(this.xVal,this.xPct,e)},C.prototype.getStep=function(e){return e=b(this.xPct,this.xSteps,this.snap,e)},C.prototype.getNearbySteps=function(e){var t=S(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},C.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(l);return Math.max.apply(null,e)},C.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var G={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:Y,create:B}})},{}],10:[function(e,t,i){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(e,t){for(var i,n,l=r(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)o.call(i,u)&&(l[u]=i[u]);if(s){n=s(i);for(var d=0;d<n.length;d++)a.call(i,n[d])&&(l[n[d]]=i[n[d]])}}return l}},{}],11:[function(e,t,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=s(a);g=!0;for(var t=m.length;t;){for(f=m,m=[];++v<t;)f&&f[v].run();v=-1,t=m.length}f=null,g=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(e){p=n}}();var f,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];m.push(new c(e,t)),1!==m.length||g||s(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],12:[function(e,t,i){var r=e("can-use-dom"),n=r&&e("enquire.js"),s=e("json2mq"),o={media:function(e,t){e=s(e),"function"==typeof t&&(t={match:t}),r&&n.register(e,t),this._responsiveMediaHandlers||(this._responsiveMediaHandlers=[]),this._responsiveMediaHandlers.push({query:e,handler:t})},componentWillUnmount:function(){this._responsiveMediaHandlers&&this._responsiveMediaHandlers.forEach(function(e){r&&n.unregister(e.query,e.handler)})}};t.exports=o},{"can-use-dom":1,"enquire.js":7,json2mq:8}],13:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.NextArrow=i.PrevArrow=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=e("react"),o=r(s),a=e("classnames"),l=r(a),c=e("./mixins/helpers"),u=r(c);i.PrevArrow=o.default.createClass({displayName:"PrevArrow",clickHandler:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var i,r={key:"0","data-role":"none",className:(0,l.default)(e),style:{display:"block"},onClick:t};return i=this.props.prevArrow?o.default.cloneElement(this.props.prevArrow,r):o.default.createElement("button",n({key:"0",type:"button"},r)," Previous")}}),i.NextArrow=o.default.createClass({displayName:"NextArrow",clickHandler:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});u.default.canGoNext(this.props)||(e["slick-disabled"]=!0,t=null);var i,r={key:"1","data-role":"none",className:(0,l.default)(e),style:{display:"block"},onClick:t};return i=this.props.nextArrow?o.default.cloneElement(this.props.nextArrow,r):o.default.createElement("button",n({key:"1",type:"button"},r)," Next")}})},{"./mixins/helpers":20,classnames:2,react:"react"}],14:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=e("react"),s=r(n),o={className:"",accessibility:!0,adaptiveHeight:!1,arrows:!0,autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e){return s.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:!1,pauseOnHover:!0,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,afterChange:null,beforeChange:null,edgeEvent:null,init:null,swipeEvent:null,nextArrow:null,prevArrow:null};t.exports=o},{react:"react"}],15:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.Dots=void 0;var n=e("react"),s=r(n),o=e("classnames"),a=r(o),l=function(e){var t;return t=Math.ceil(e.slideCount/e.slidesToScroll)};i.Dots=s.default.createClass({displayName:"Dots",clickHandler:function(e,t){t.preventDefault(),this.props.clickHandler(e)},render:function(){var e=this,t=l({slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll}),i=Array.apply(null,Array(t+1).join("0").split("")).map(function(t,i){var r=i*e.props.slidesToScroll,n=i*e.props.slidesToScroll+(e.props.slidesToScroll-1),o=(0,a.default)({"slick-active":e.props.currentSlide>=r&&e.props.currentSlide<=n}),l={message:"dots",index:i,slidesToScroll:e.props.slidesToScroll,currentSlide:e.props.currentSlide},c=e.clickHandler.bind(e,l);return s.default.createElement("li",{key:i,className:o},s.default.cloneElement(e.props.customPaging(i),{onClick:c}))});return s.default.createElement("ul",{className:this.props.dotsClass,style:{display:"block"}},i)}})},{classnames:2,react:"react"}],16:[function(e,t,i){"use strict";t.exports=e("./slider")},{"./slider":22}],17:[function(e,t,i){"use strict";var r={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,listWidth:null,listHeight:null,slideCount:null,slideWidth:null,slideHeight:null,swipeLeft:null,touchObject:{startX:0,startY:0,curX:0,curY:0},lazyLoadedList:[],initialized:!1,edgeDragged:!1,swiped:!1,trackStyle:{},trackWidth:0};t.exports=r},{}],18:[function(e,t,i){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.InnerSlider=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=e("react"),o=r(s),a=e("./mixins/event-handlers"),l=r(a),c=e("./mixins/helpers"),u=r(c),d=e("./initial-state"),p=r(d),h=e("./default-props"),f=r(h),m=e("classnames"),g=r(m),v=e("object-assign"),S=r(v),w=e("./track"),y=e("./dots"),b=e("./arrows");
i.InnerSlider=o.default.createClass({displayName:"InnerSlider",mixins:[u.default,l.default],list:null,track:null,listRefHandler:function(e){this.list=e},trackRefHandler:function(e){this.track=e},getInitialState:function(){return n({},p.default,{currentSlide:this.props.initialSlide})},getDefaultProps:function(){return f.default},componentWillMount:function(){this.props.init&&this.props.init(),this.setState({mounted:!0});for(var e=[],t=0;t<o.default.Children.count(this.props.children);t++)t>=this.state.currentSlide&&t<this.state.currentSlide+this.props.slidesToShow&&e.push(t);this.props.lazyLoad&&0===this.state.lazyLoadedList.length&&this.setState({lazyLoadedList:e})},componentDidMount:function(){this.initialize(this.props),this.adaptHeight(),window&&(window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized))},componentWillUnmount:function(){this.animationEndCallback&&clearTimeout(this.animationEndCallback),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.state.autoPlayTimer&&clearInterval(this.state.autoPlayTimer)},componentWillReceiveProps:function(e){this.props.slickGoTo!=e.slickGoTo?("production"!==t.env.NODE_ENV&&console.warn("react-slick deprecation warning: slickGoTo prop is deprecated and it will be removed in next release. Use slickGoTo method instead"),this.changeSlide({message:"index",index:e.slickGoTo,currentSlide:this.state.currentSlide})):this.state.currentSlide>=e.children.length?(this.update(e),this.changeSlide({message:"index",index:e.children.length-e.slidesToShow,currentSlide:this.state.currentSlide})):this.update(e)},componentDidUpdate:function(){this.adaptHeight()},onWindowResized:function(){this.update(this.props),this.setState({animating:!1}),clearTimeout(this.animationEndCallback),delete this.animationEndCallback},slickPrev:function(){this.changeSlide({message:"previous"})},slickNext:function(){this.changeSlide({message:"next"})},slickGoTo:function(e){"number"==typeof e&&this.changeSlide({message:"index",index:e,currentSlide:this.state.currentSlide})},render:function(){var e,t=(0,g.default)("slick-initialized","slick-slider",this.props.className,{"slick-vertical":this.props.vertical}),i={fade:this.props.fade,cssEase:this.props.cssEase,speed:this.props.speed,infinite:this.props.infinite,centerMode:this.props.centerMode,focusOnSelect:this.props.focusOnSelect?this.selectHandler:null,currentSlide:this.state.currentSlide,lazyLoad:this.props.lazyLoad,lazyLoadedList:this.state.lazyLoadedList,rtl:this.props.rtl,slideWidth:this.state.slideWidth,slidesToShow:this.props.slidesToShow,slidesToScroll:this.props.slidesToScroll,slideCount:this.state.slideCount,trackStyle:this.state.trackStyle,variableWidth:this.props.variableWidth};if(this.props.dots===!0&&this.state.slideCount>=this.props.slidesToShow){var r={dotsClass:this.props.dotsClass,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,currentSlide:this.state.currentSlide,slidesToScroll:this.props.slidesToScroll,clickHandler:this.changeSlide,children:this.props.children,customPaging:this.props.customPaging};e=o.default.createElement(y.Dots,r)}var s,a,l={infinite:this.props.infinite,centerMode:this.props.centerMode,currentSlide:this.state.currentSlide,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,prevArrow:this.props.prevArrow,nextArrow:this.props.nextArrow,clickHandler:this.changeSlide};this.props.arrows&&(s=o.default.createElement(b.PrevArrow,l),a=o.default.createElement(b.NextArrow,l));var c=null;this.props.vertical&&(c={height:this.state.listHeight});var u=null;this.props.vertical===!1?this.props.centerMode===!0&&(u={padding:"0px "+this.props.centerPadding}):this.props.centerMode===!0&&(u={padding:this.props.centerPadding+" 0px"});var d=(0,S.default)({},c,u);return o.default.createElement("div",{className:t,onMouseEnter:this.onInnerSliderEnter,onMouseLeave:this.onInnerSliderLeave},s,o.default.createElement("div",{ref:this.listRefHandler,className:"slick-list",style:d,onMouseDown:this.swipeStart,onMouseMove:this.state.dragging?this.swipeMove:null,onMouseUp:this.swipeEnd,onMouseLeave:this.state.dragging?this.swipeEnd:null,onTouchStart:this.swipeStart,onTouchMove:this.state.dragging?this.swipeMove:null,onTouchEnd:this.swipeEnd,onTouchCancel:this.state.dragging?this.swipeEnd:null,onKeyDown:this.props.accessibility?this.keyHandler:null},o.default.createElement(w.Track,n({ref:this.trackRefHandler},i),this.props.children)),a,e)}})}).call(this,e("_process"))},{"./arrows":13,"./default-props":14,"./dots":15,"./initial-state":17,"./mixins/event-handlers":19,"./mixins/helpers":20,"./track":23,_process:11,classnames:2,"object-assign":10,react:"react"}],19:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var n=e("./trackHelper"),s=e("./helpers"),o=(r(s),e("object-assign")),a=r(o),l=e("react-dom"),c=r(l),u={changeSlide:function(e){var t,i,r,n,s,o=this.props,a=o.slidesToScroll,l=o.slidesToShow,c=this.state,u=c.slideCount,d=c.currentSlide;if(n=u%a!==0,t=n?0:(u-d)%a,"previous"===e.message)r=0===t?a:l-t,s=d-r,this.props.lazyLoad&&(i=d-r,s=i===-1?u-1:i);else if("next"===e.message)r=0===t?a:t,s=d+r,this.props.lazyLoad&&(s=(d+a)%u+t);else if("dots"===e.message||"children"===e.message){if(s=e.index*e.slidesToScroll,s===e.currentSlide)return}else if("index"===e.message&&(s=parseInt(e.index),s===e.currentSlide))return;this.slideHandler(s)},keyHandler:function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&this.props.accessibility===!0?this.changeSlide({message:this.props.rtl===!0?"next":"previous"}):39===e.keyCode&&this.props.accessibility===!0&&this.changeSlide({message:this.props.rtl===!0?"previous":"next"}))},selectHandler:function(e){this.changeSlide(e)},swipeStart:function(e){var t,i;this.props.swipe===!1||"ontouchend"in document&&this.props.swipe===!1||this.props.draggable===!1&&e.type.indexOf("mouse")!==-1||(t=void 0!==e.touches?e.touches[0].pageX:e.clientX,i=void 0!==e.touches?e.touches[0].pageY:e.clientY,this.setState({dragging:!0,touchObject:{startX:t,startY:i,curX:t,curY:i}}))},swipeMove:function(e){if(!this.state.dragging)return void e.preventDefault();if(!this.state.animating){this.props.vertical&&this.props.swipeToSlide&&this.props.verticalSwiping&&e.preventDefault();var t,i,r,s=this.state.touchObject;i=(0,n.getTrackLeft)((0,a.default)({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state)),s.curX=e.touches?e.touches[0].pageX:e.clientX,s.curY=e.touches?e.touches[0].pageY:e.clientY,s.swipeLength=Math.round(Math.sqrt(Math.pow(s.curX-s.startX,2))),this.props.verticalSwiping&&(s.swipeLength=Math.round(Math.sqrt(Math.pow(s.curY-s.startY,2)))),r=(this.props.rtl===!1?1:-1)*(s.curX>s.startX?1:-1),this.props.verticalSwiping&&(r=s.curY>s.startY?1:-1);var o=this.state.currentSlide,l=Math.ceil(this.state.slideCount/this.props.slidesToScroll),c=this.swipeDirection(this.state.touchObject),u=s.swipeLength;this.props.infinite===!1&&(0===o&&"right"===c||o+1>=l&&"left"===c)&&(u=s.swipeLength*this.props.edgeFriction,this.state.edgeDragged===!1&&this.props.edgeEvent&&(this.props.edgeEvent(c),this.setState({edgeDragged:!0}))),this.state.swiped===!1&&this.props.swipeEvent&&(this.props.swipeEvent(c),this.setState({swiped:!0})),t=this.props.vertical?i+u*(this.state.listHeight/this.state.listWidth)*r:i+u*r,this.props.verticalSwiping&&(t=i+u*r),this.setState({touchObject:s,swipeLeft:t,trackStyle:(0,n.getTrackCSS)((0,a.default)({left:t},this.props,this.state))}),Math.abs(s.curX-s.startX)<.8*Math.abs(s.curY-s.startY)||s.swipeLength>4&&e.preventDefault()}},getNavigableIndexes:function(){var e=void 0,t=0,i=0,r=[];for(this.props.infinite?(t=this.props.slidesToShow*-1,i=this.props.slidesToShow*-1,e=2*this.state.slideCount):e=this.state.slideCount;t<e;)r.push(t),t=i+this.props.slidesToScroll,i+=this.props.slidesToScroll<=this.props.slidesToShow?this.props.slidesToScroll:this.props.slidesToShow;return r},checkNavigable:function(e){var t=this.getNavigableIndexes(),i=0;if(e>t[t.length-1])e=t[t.length-1];else for(var r in t){if(e<t[r]){e=i;break}i=t[r]}return e},getSlideCount:function(){var e=this,t=this.props.centerMode?this.state.slideWidth*Math.floor(this.props.slidesToShow/2):0;if(this.props.swipeToSlide){var i=void 0,r=c.default.findDOMNode(this.list),n=r.querySelectorAll(".slick-slide");Array.from(n).every(function(r){if(e.props.vertical){if(r.offsetTop+e.getHeight(r)/2>e.state.swipeLeft*-1)return i=r,!1}else if(r.offsetLeft-t+e.getWidth(r)/2>e.state.swipeLeft*-1)return i=r,!1;return!0});var s=Math.abs(i.dataset.index-this.state.currentSlide)||1;return s}return this.props.slidesToScroll},swipeEnd:function(e){if(!this.state.dragging)return void e.preventDefault();var t=this.state.touchObject,i=this.state.listWidth/this.props.touchThreshold,r=this.swipeDirection(t);if(this.props.verticalSwiping&&(i=this.state.listHeight/this.props.touchThreshold),this.setState({dragging:!1,edgeDragged:!1,swiped:!1,swipeLeft:null,touchObject:{}}),t.swipeLength)if(t.swipeLength>i){e.preventDefault();var s=void 0,o=void 0;switch(r){case"left":case"down":o=this.state.currentSlide+this.getSlideCount(),s=this.props.swipeToSlide?this.checkNavigable(o):o,this.state.currentDirection=0;break;case"right":case"up":o=this.state.currentSlide-this.getSlideCount(),s=this.props.swipeToSlide?this.checkNavigable(o):o,this.state.currentDirection=1;break;default:s=this.state.currentSlide}this.slideHandler(s)}else{var l=(0,n.getTrackLeft)((0,a.default)({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state));this.setState({trackStyle:(0,n.getTrackAnimateCSS)((0,a.default)({left:l},this.props,this.state))})}},onInnerSliderEnter:function(e){this.props.autoplay&&this.props.pauseOnHover&&this.pause()},onInnerSliderLeave:function(e){this.props.autoplay&&this.props.pauseOnHover&&this.autoPlay()}};i.default=u},{"./helpers":20,"./trackHelper":21,"object-assign":10,"react-dom":"react-dom"}],20:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=e("react"),o=r(s),a=e("react-dom"),l=r(a),c=e("./trackHelper"),u=e("object-assign"),d=r(u),p={initialize:function(e){var t,i=l.default.findDOMNode(this.list),r=o.default.Children.count(e.children),n=this.getWidth(i),s=this.getWidth(l.default.findDOMNode(this.track));if(e.vertical)t=this.getWidth(l.default.findDOMNode(this));else{var a=e.centerMode&&2*parseInt(e.centerPadding);t=(this.getWidth(l.default.findDOMNode(this))-a)/e.slidesToShow}var u=this.getHeight(i.querySelector('[data-index="0"]')),p=u*e.slidesToShow,h=e.rtl?r-1-e.initialSlide:e.initialSlide;this.setState({slideCount:r,slideWidth:t,listWidth:n,trackWidth:s,currentSlide:h,slideHeight:u,listHeight:p},function(){var t=(0,c.getTrackLeft)((0,d.default)({slideIndex:this.state.currentSlide,trackRef:this.track},e,this.state)),i=(0,c.getTrackCSS)((0,d.default)({left:t},e,this.state));this.setState({trackStyle:i}),this.autoPlay()})},update:function(e){var t,i=l.default.findDOMNode(this.list),r=o.default.Children.count(e.children),n=this.getWidth(i),s=this.getWidth(l.default.findDOMNode(this.track));if(e.vertical)t=this.getWidth(l.default.findDOMNode(this));else{var a=e.centerMode&&2*parseInt(e.centerPadding);t=(this.getWidth(l.default.findDOMNode(this))-a)/e.slidesToShow}var u=this.getHeight(i.querySelector('[data-index="0"]')),p=u*e.slidesToShow;e.autoplay||this.pause(),this.setState({slideCount:r,slideWidth:t,listWidth:n,trackWidth:s,slideHeight:u,listHeight:p},function(){var t=(0,c.getTrackLeft)((0,d.default)({slideIndex:this.state.currentSlide,trackRef:this.track},e,this.state)),i=(0,c.getTrackCSS)((0,d.default)({left:t},e,this.state));this.setState({trackStyle:i})})},getWidth:function(e){return e.getBoundingClientRect().width||e.offsetWidth},getHeight:function(e){return e.getBoundingClientRect().height||e.offsetHeight},adaptHeight:function(){if(this.props.adaptiveHeight){var e='[data-index="'+this.state.currentSlide+'"]';if(this.list){var t=l.default.findDOMNode(this.list);t.style.height=t.querySelector(e).offsetHeight+"px"}}},canGoNext:function(e){var t=!0;return e.infinite||(e.centerMode?e.currentSlide>=e.slideCount-1&&(t=!1):(e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1)),t},slideHandler:function(e){var t,i,r,n,s,o=this;if(!this.props.waitForAnimate||!this.state.animating){if(this.props.fade){if(i=this.state.currentSlide,this.props.infinite===!1&&(e<0||e>=this.state.slideCount))return;return t=e<0?e+this.state.slideCount:e>=this.state.slideCount?e-this.state.slideCount:e,this.props.lazyLoad&&this.state.lazyLoadedList.indexOf(t)<0&&this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(t)}),s=function(){o.setState({animating:!1}),o.props.afterChange&&o.props.afterChange(t),delete o.animationEndCallback},this.setState({animating:!0,currentSlide:t},function(){this.animationEndCallback=setTimeout(s,this.props.speed)}),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,t),void this.autoPlay()}if(t=e,i=t<0?this.props.infinite===!1?0:this.state.slideCount%this.props.slidesToScroll!==0?this.state.slideCount-this.state.slideCount%this.props.slidesToScroll:this.state.slideCount+t:t>=this.state.slideCount?this.props.infinite===!1?this.state.slideCount-this.props.slidesToShow:this.state.slideCount%this.props.slidesToScroll!==0?0:t-this.state.slideCount:t,r=(0,c.getTrackLeft)((0,d.default)({slideIndex:t,trackRef:this.track},this.props,this.state)),n=(0,c.getTrackLeft)((0,d.default)({slideIndex:i,trackRef:this.track},this.props,this.state)),this.props.infinite===!1&&(r=n),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,i),this.props.lazyLoad){for(var a=!0,l=[],u=t;u<t+this.props.slidesToShow;u++)a=a&&this.state.lazyLoadedList.indexOf(u)>=0,a||l.push(u);a||this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(l)})}if(this.props.useCSS===!1)this.setState({currentSlide:i,trackStyle:(0,c.getTrackCSS)((0,d.default)({left:n},this.props,this.state))},function(){this.props.afterChange&&this.props.afterChange(i)});else{var p={animating:!1,currentSlide:i,trackStyle:(0,c.getTrackCSS)((0,d.default)({left:n},this.props,this.state)),swipeLeft:null};s=function(){o.setState(p),o.props.afterChange&&o.props.afterChange(i),delete o.animationEndCallback},this.setState({animating:!0,currentSlide:i,trackStyle:(0,c.getTrackAnimateCSS)((0,d.default)({left:r},this.props,this.state))},function(){this.animationEndCallback=setTimeout(s,this.props.speed)})}this.autoPlay()}},swipeDirection:function(e){var t,i,r,n;return t=e.startX-e.curX,i=e.startY-e.curY,r=Math.atan2(i,t),n=Math.round(180*r/Math.PI),n<0&&(n=360-Math.abs(n)),n<=45&&n>=0||n<=360&&n>=315?this.props.rtl===!1?"left":"right":n>=135&&n<=225?this.props.rtl===!1?"right":"left":this.props.verticalSwiping===!0?n>=35&&n<=135?"down":"up":"vertical"},play:function(){var e;if(!this.state.mounted)return!1;if(this.props.rtl)e=this.state.currentSlide-this.props.slidesToScroll;else{if(!this.canGoNext(n({},this.props,this.state)))return!1;e=this.state.currentSlide+this.props.slidesToScroll}this.slideHandler(e)},autoPlay:function(){this.state.autoPlayTimer||this.props.autoplay&&this.setState({autoPlayTimer:setInterval(this.play,this.props.autoplaySpeed)})},pause:function(){this.state.autoPlayTimer&&(clearInterval(this.state.autoPlayTimer),this.setState({autoPlayTimer:null}))}};i.default=p},{"./trackHelper":21,"object-assign":10,react:"react","react-dom":"react-dom"}],21:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.getTrackLeft=i.getTrackAnimateCSS=i.getTrackCSS=void 0;var n=e("react-dom"),s=r(n),o=e("object-assign"),a=r(o),l=function(e,t){return t.reduce(function(t,i){return t&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing",e)},c=i.getTrackCSS=function(e){l(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,i,r=e.slideCount+2*e.slidesToShow;e.vertical?i=r*e.slideHeight:t=e.variableWidth?(e.slideCount+2*e.slidesToShow)*e.slideWidth:e.centerMode?(e.slideCount+2*(e.slidesToShow+1))*e.slideWidth:(e.slideCount+2*e.slidesToShow)*e.slideWidth;var n={opacity:1,WebkitTransform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transition:"",WebkitTransition:"",msTransform:e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)"};return t&&(0,a.default)(n,{width:t}),i&&(0,a.default)(n,{height:i}),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?n.marginTop=e.left+"px":n.marginLeft=e.left+"px"),n};i.getTrackAnimateCSS=function(e){l(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=c(e);return t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase,t},i.getTrackLeft=function(e){l(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,i,r=0,n=0;if(e.fade)return 0;if(e.infinite)e.slideCount>=e.slidesToShow&&(r=e.slideWidth*e.slidesToShow*-1,n=e.slideHeight*e.slidesToShow*-1),e.slideCount%e.slidesToScroll!==0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(e.slideIndex>e.slideCount?(r=(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideWidth*-1,n=(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideHeight*-1):(r=e.slideCount%e.slidesToScroll*e.slideWidth*-1,n=e.slideCount%e.slidesToScroll*e.slideHeight*-1));else if(e.slideCount%e.slidesToScroll!==0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow){var o=e.slidesToShow-e.slideCount%e.slidesToScroll;r=o*e.slideWidth}if(e.centerMode&&(e.infinite?r+=e.slideWidth*Math.floor(e.slidesToShow/2):r=e.slideWidth*Math.floor(e.slidesToShow/2)),t=e.vertical?e.slideIndex*e.slideHeight*-1+n:e.slideIndex*e.slideWidth*-1+r,e.variableWidth===!0){var a;e.slideCount<=e.slidesToShow||e.infinite===!1?i=s.default.findDOMNode(e.trackRef).childNodes[e.slideIndex]:(a=e.slideIndex+e.slidesToShow,i=s.default.findDOMNode(e.trackRef).childNodes[a]),t=i?i.offsetLeft*-1:0,e.centerMode===!0&&(i=e.infinite===!1?s.default.findDOMNode(e.trackRef).children[e.slideIndex]:s.default.findDOMNode(e.trackRef).children[e.slideIndex+e.slidesToShow+1],t=i?i.offsetLeft*-1:0,t+=(e.listWidth-i.offsetWidth)/2)}return t}},{"object-assign":10,"react-dom":"react-dom"}],22:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},s=e("react"),o=r(s),a=e("./inner-slider"),l=e("object-assign"),c=r(l),u=e("json2mq"),d=r(u),p=e("react-responsive-mixin"),h=r(p),f=e("./default-props"),m=r(f),g=o.default.createClass({displayName:"Slider",mixins:[h.default],innerSlider:null,innerSliderRefHandler:function(e){this.innerSlider=e},getInitialState:function(){return{breakpoint:null}},componentWillMount:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map(function(e){return e.breakpoint});t.sort(function(e,t){return e-t}),t.forEach(function(i,r){var n;n=0===r?(0,d.default)({minWidth:0,maxWidth:i}):(0,d.default)({minWidth:t[r-1],maxWidth:i}),e.media(n,function(){e.setState({breakpoint:i})})});var i=(0,d.default)({minWidth:t.slice(-1)[0]});this.media(i,function(){e.setState({breakpoint:null})})}},slickPrev:function(){this.innerSlider.slickPrev()},slickNext:function(){this.innerSlider.slickNext()},slickGoTo:function(e){this.innerSlider.slickGoTo(e)},render:function(){var e,t,i=this;this.state.breakpoint?(t=this.props.responsive.filter(function(e){return e.breakpoint===i.state.breakpoint}),e="unslick"===t[0].settings?"unslick":(0,c.default)({},this.props,t[0].settings)):e=(0,c.default)({},m.default,this.props);var r=this.props.children;return Array.isArray(r)||(r=[r]),r=r.filter(function(e){return!!e}),"unslick"===e?o.default.createElement("div",null,r):o.default.createElement(a.InnerSlider,n({ref:this.innerSliderRefHandler},e),r)}});t.exports=g},{"./default-props":14,"./inner-slider":18,json2mq:8,"object-assign":10,react:"react","react-responsive-mixin":12}],23:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.Track=void 0;var n=e("react"),s=r(n),o=e("object-assign"),a=r(o),l=e("classnames"),c=r(l),u=function(e){var t,i,r,n,s;return s=e.rtl?e.slideCount-1-e.index:e.index,r=s<0||s>=e.slideCount,e.centerMode?(n=Math.floor(e.slidesToShow/2),i=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-n-1&&s<=e.currentSlide+n&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,(0,c.default)({"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":r})},d=function(e){var t={};return void 0!==e.variableWidth&&e.variableWidth!==!1||(t.width=e.slideWidth),e.fade&&(t.position="relative",t.left=-e.index*e.slideWidth,t.opacity=e.currentSlide===e.index?1:0,t.transition="opacity "+e.speed+"ms "+e.cssEase,t.WebkitTransition="opacity "+e.speed+"ms "+e.cssEase),t},p=function(e,t){return null===e.key||void 0===e.key?t:e.key},h=function(e){var t,i=[],r=[],n=[],o=s.default.Children.count(e.children);return s.default.Children.forEach(e.children,function(l,h){var f=void 0,m={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad|(e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0)?l:s.default.createElement("div",null);var g,v=d((0,a.default)({},e,{index:h})),S=u((0,a.default)({index:h},e));g=f.props.className?(0,c.default)(S,f.props.className):S;var w=function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(m)};if(i.push(s.default.cloneElement(f,{key:"original"+p(f,h),"data-index":h,className:g,tabIndex:"-1",style:(0,a.default)({outline:"none"},f.props.style||{},v),onClick:w})),e.infinite&&e.fade===!1){var y=e.variableWidth?e.slidesToShow+1:e.slidesToShow;h>=o-y&&(t=-(o-h),r.push(s.default.cloneElement(f,{key:"precloned"+p(f,t),"data-index":t,className:g,style:(0,a.default)({},f.props.style||{},v),onClick:w}))),h<y&&(t=o+h,n.push(s.default.cloneElement(f,{key:"postcloned"+p(f,t),"data-index":t,className:g,style:(0,a.default)({},f.props.style||{},v),onClick:w})))}}),e.rtl?r.concat(i,n).reverse():r.concat(i,n)};i.Track=s.default.createClass({displayName:"Track",render:function(){var e=h.call(this,this.props);return s.default.createElement("div",{className:"slick-track",style:this.props.trackStyle},e)}})},{classnames:2,"object-assign":10,react:"react"}],24:[function(e,t,i){var r=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};t.exports=r},{}],25:[function(e,t,i){"use strict";function r(e,t,i){void 0===i&&(i=!1);var r,n,s,o=Date.now||function(){return(new Date).getTime()},a=function(){var l=o()-s;l<t&&l>=0?r=setTimeout(a,t-l):(r=null,i||e.apply(null,n))};return function(){n=arguments,s=o();var l=i&&!r;r||(r=setTimeout(a,t)),l&&e.apply(null,n)}}function n(e){for(var t=e.length,i=new Float32Array(t),r=0;r<t;r++)i[r]=e[r];return i}function s(e){return{u:n(e.u),s:n(e.s),vt:n(e.vt),d:e.d,m:e.m,n:e.n}}function o(e){return{red:s(e.red),green:s(e.green),blue:s(e.blue)}}function a(e,t){var i=new Image;i.onload=function(){t(i)},/^http/.test(e)?(console.log("cors"),i.crossOrigin="anonymous",i.src="http://crossorigin.me/"+e):i.src=e}function l(e){return 10===e}function c(e){return Math.floor(Math.random()*e)}function u(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");i.drawImage(e,0,0);for(var r=0,n=0,s=0,o=10,a=0;a<o;a++){var l=c(e.width),u=c(e.height),d=i.getImageData(l,u,1,1).data;r+=d[0],n+=d[1],s+=d[2]}var p=Math.floor;return"rgb("+p(r/o)+","+p(n/o)+","+p(s/o)+")"}function d(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),i.getImageData(0,0,e.width,e.height)}function p(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}var h=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},f=e("react"),m=e("react-dom"),g=e("nouislider"),v=e("react-slick"),S=e("./image-svd"),w=e("../shared/types"),y=e("../shared/svd-worker-protocol"),b=function(){function e(){return new Worker("build/svd-worker.js")}function t(){var t={computingSvd:!1,worker:e(),onmessage:function(){},approxSvd:null,fullSvd:null};return t.worker.onmessage=function(e){t.onmessage(e)},t}var i={red:t(),green:t(),blue:t()};return function(e,r,n,s){function o(o){var a=o(),l=a.get(i);l.computingSvd?(l.worker.terminate(),l=t(),i=a.set(i,l)):l.computingSvd=!0;var c=o().get(n).buffer;l.worker.postMessage(y.makeSetInputReq({a:c,m:e,n:r}),[c]),l.onmessage=function(e){l.approxSvd=e.data,i.red.approxSvd&&i.green.approxSvd&&i.blue.approxSvd&&s({red:i.red.approxSvd,green:i.green.approxSvd,blue:i.blue.approxSvd,approx:!0}),l.onmessage=function(e){l.fullSvd=e.data,l.computingSvd=!1,i.red.fullSvd&&i.green.fullSvd&&i.blue.fullSvd&&s({red:i.red.fullSvd,green:i.green.fullSvd,blue:i.blue.fullSvd,approx:!1})},l.worker.postMessage(y.makeComputeSVDReq({approx:!1}))},l.worker.postMessage(y.makeComputeSVDReq({approx:!0}))}o(w.mkRedLens),o(w.mkGreenLens),o(w.mkBlueLens)}}(),x=function(){var e={};return function(t){if(!e[t]){var i=new Image;i.onload=function(){e[t]=!0,console.log("Preloaded image '"+t+"'")},i.src=t}}}(),k=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.onChange=function(){var e=m.findDOMNode(this.refs.input),t=e.files;t&&t[0]&&this.props.onChange&&this.props.onChange(t[0])},t.prototype.render=function(){return f.createElement("span",{className:"button file-input-button"},f.createElement("span",null,this.props.label),f.createElement("input",{ref:"input",type:"file",accept:"image/*",className:"file-input",onChange:this.onChange.bind(this)}))},t}(f.Component),C=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.getImages=function(){function e(e){return e.preview="images/question_mark_small.jpg",e.quiz=!0,e}return[{name:"cats",caption:"By Jetske",source:"https://www.flickr.com/photos/jetske/5827857531/"},{name:"tree",caption:"By Moyan Brenn",source:"https://www.flickr.com/photos/aigle_dore/15061080128/"},{name:"mondrian",caption:"By Rael Garcia Arnes",source:"https://www.flickr.com/photos/raelga/4408707212/"},{name:"nyc",caption:"By Chris Isherwood",source:"https://www.flickr.com/photos/isherwoodchris/3096255994/"},{name:"girl",caption:"By Elvin",source:"https://www.flickr.com/photos/25228175@N08/5896000539/"},{name:"royal_stewart",caption:"The Royal Stewart tartan",source:"https://en.wikipedia.org/wiki/Royal_Stewart_tartan"},{url:"images/randbitmap-rdo_medium.png",preview:"images/randbitmap-rdo_small.png",caption:"Random data",source:"https://www.random.org/bitmaps/"},{name:"girih_pattern",caption:"Girih pattern by nfoCan",source:"https://en.wikipedia.org/wiki/Girih#/media/File:Samarkand_Shah-i_Zinda_Tuman_Aqa_complex_cropped2.jpg"},{caption:"Made with the KC-O-M",url:"images/keep-calm-and-use-svd_medium.png",preview:"images/keep-calm-and-use-svd_small.png",source:"http://www.keepcalm-o-matic.co.uk/"},{name:"skater_boy",caption:"By Chris Goldberg",source:"https://flic.kr/p/keMZvg"},e({name:"quiz1",caption:"By Francisco Martins",source:"https://flic.kr/p/4bpEpb"}),e({name:"quiz2",caption:"By Eleonora Gorini",source:"https://flic.kr/p/5yWPDc"}),e({name:"quiz3",caption:"By melfoody",source:"https://flic.kr/p/enTNR5"}),e({name:"quiz4",caption:"By VvG",source:"https://goo.gl/oH2BLt"}),e({name:"quiz5",caption:"By Sergiu Bacioiu",source:"https://flic.kr/p/7TdBUA"})].map(function(e,t){return{name:e.name||"image-"+t,width:150,height:150,url:e.url||"images/"+e.name+"_medium.jpg",preview:e.preview||"images/"+e.name+"_small.jpg",caption:e.caption,source:e.source,quiz:!!e.quiz}})},t.prototype.renderImage=function(e){var t=this,i=function(i){i.preventDefault(),t.props.onClick&&t.props.onClick(e)},r=function(){x(e.url)};return f.createElement("div",{className:"image",key:e.name},f.createElement("a",{href:e.url,onClick:i,onMouseOver:r},f.createElement("img",{width:e.width,height:e.height,src:e.preview})),f.createElement("p",{className:"caption"},f.createElement("a",{href:e.source},e.caption)))},t.prototype.render=function(){return f.createElement(v,{ref:"slider",className:"gallery",slidesToShow:5,slidesToScroll:5,draggable:!1,infinite:!1,afterChange:this.props.onScroll||function(){}},this.getImages().map(this.renderImage.bind(this)))},t}(f.Component),E=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){return f.createElement("div",{className:"slider"})},t.prototype.componentDidUpdate=function(e,t){var i=m.findDOMNode(this).noUiSlider;i&&(console.log(i.get()+" is a "+typeof i.get()),this.props.value!==i.get()&&i.set(this.props.value),this.props.maxSvs!==e.maxSvs&&(i.destroy(),this.buildSlider()))},t.prototype.componentDidMount=function(){this.buildSlider()},t.prototype.buildSlider=function(){var e=this,t=m.findDOMNode(this);g.create(t,this.getSliderOptions());var i=function(){return Math.round(t.noUiSlider.get())};t.noUiSlider.on("update",r(function(){var t=i();t!==e.props.value&&e.props.onUpdate&&e.props.onUpdate(t)},50)),t.noUiSlider.on("change",r(function(){var t=i();t!==e.props.value&&e.props.onChange&&e.props.onChange(t)},50))},t.prototype.getSliderOptions=function(){for(var e=this.props.max,t=this.props.maxSvs,i=[],r=1;r<20;r++)i.push(r);for(var r=20;r<100;r+=5)i.push(r);for(var r=100;r<e;r+=10)i.push(r);return i.push(e),{behaviour:"snap",range:{min:[1,1],"18%":[10,2],"30%":[20,10],"48%":[100,20],max:[e]},start:this.props.value,pips:{mode:"values",values:i,density:10,filter:function(e){return e>t?0:1===e||10===e||20===e?1:e%100===0?1:e<10?2:e<20&&e%2===0?2:e<100&&e%10===0?2:e%20===0?2:0}}}},t}(f.Component);i.SVSlider=E;var T=function(e){function t(t){var i=e.call(this,t)||this;return i.setState({hover:!1}),i}return h(t,e),t.prototype.componentDidMount=function(){this.paint()},t.prototype.componentDidUpdate=function(){this.paint()},t.prototype.onMouseEnter=function(){this.setState({hover:!0})},t.prototype.onMouseOut=function(){this.setState({hover:!1})},t.prototype.render=function(){return f.createElement("canvas",{width:this.props.width,height:this.props.height,onMouseEnter:this.onMouseEnter.bind(this),onMouseOut:this.onMouseOut.bind(this)})},t}(f.Component),M=function(e){function t(t){var i=e.call(this,t)||this;return i.products=null,i.imageData=null,i.state={hover:!1},i}return h(t,e),t.prototype.shouldComponentUpdate=function(e,t){return e.svds!==this.props.svds?(this.imageData=null,this.products=null):this.products&&e.numSvs!==this.props.numSvs&&(e.numSvs>this.props.numSvs?(this.imageDataUpdates++,S.multiplySvds(this.props.svds,this.products,this.props.numSvs,e.numSvs,1)):this.props.numSvs-e.numSvs<e.numSvs?(this.imageDataUpdates++,S.multiplySvds(this.props.svds,this.products,e.numSvs,this.props.numSvs,-1)):this.products=null),!0},t.prototype.initProducts=function(){var e=this.props.width,t=this.props.height;return{red:new Float32Array(t*e),green:new Float32Array(t*e),blue:new Float32Array(t*e)}},t.prototype.computeProductsFromScratch=function(){this.products&&(S.multiplySvds(this.props.svds,this.products,0,this.props.numSvs,1),this.imageDataUpdates=0)},t.prototype.getProducts=function(){return this.products?this.products:(this.products=this.initProducts(),
this.computeProductsFromScratch(),this.products)},t.prototype.refreshImageData=function(){this.imageDataUpdates>=20&&(this.computeProductsFromScratch(),this.paint())},t.prototype.paint=function(){var e=this.props.width,t=this.props.height,i=m.findDOMNode(this).getContext("2d");if(i)if(this.state.hover&&this.props.hoverToSeeOriginal)i.drawImage(this.props.img,0,0,e,t);else{this.imageData||(i.fillStyle="#000",i.fillRect(0,0,e,t),this.imageData=i.getImageData(0,0,e,t));for(var r=this.imageData.data,n=this.getProducts(),s=n.red,o=n.green,a=n.blue,l=0;l<t;l++)for(var c=0;c<e;c++){var u=l*e+c,d=4*u;r[d]=s[u],r[d+1]=o[u],r[d+2]=a[u]}i.putImageData(this.imageData,0,0)}},t}(T),N=function(e){function t(t){var i=e.call(this,t)||this;return i.state={hover:!1},i}return h(t,e),t.prototype.paint=function(){var e=this.props.width,t=this.props.height,i=m.findDOMNode(this).getContext("2d");if(i){var r=this.state.hover;i.clearRect(0,0,e,t),i.fillStyle=r?"rgb(90, 90, 90)":"rgba(90, 90, 90, 0.35)",i.fillRect(0,0,e,t);for(var n=this.props.svds.red.s,s=this.props.svds.green.s,o=this.props.svds.blue.s,a=(n[5]+s[5]+o[5])/(3*t),l=this.props.numSvs,c=this.props.svds.red.d,u=i.getImageData(0,0,e,t),d=u.data,p=0;p<c;p++)for(var h=Math.round(n[p]/a),f=Math.round(s[p]/a),g=Math.round(o[p]/a),v=p<l?30:0,S=0;S<t;S++){var w=4*((t-S)*e+p);d[w]=(S<h?225:100)+v,d[w+1]=(S<f?225:100)+v,d[w+2]=(S<g?225:100)+v,d[w+3]=r?255:(d[w]+d[w+1]+d[w+2])/3}i.putImageData(u,0,0)}},t}(T),O=function(e){function t(){return e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e=u(this.props.img),t={width:this.props.width,height:this.props.height,background:e};return f.createElement("div",{className:"placeholder",style:t})},t}(f.Component),L={w:600,h:402,src:"images/mountains_sea.jpg",approxSrc:"images/mountains_sea_5svs.jpg"},D=function(e){function t(t){var i=e.call(this,t)||this;return i.state={width:L.w,height:L.h,placeholderImg:L.approxSrc,numSvs:5,approx:!0,showSvs:!1,error:"",hoverToSeeOriginal:!0,guessingPage:!1,hover:!1,img:null,svds:null},i}return h(t,e),t.prototype.componentDidMount=function(){window.ondragover=this.onDragOver.bind(this),this.loadImage(L.src,L.approxSrc)},t.prototype.initializeImage=function(e){var t,i=this,r=e.width,n=e.height;try{t=d(e)}catch(e){if(e.message.match(/(tainted|cross\-origin|insecure)/))return window.alert("Due to browser limitations (cross-origin policy), it isn't possible use pictures dragged from other sites. You have to save the image locally before you can use it.");throw e}if(r>1e3||n>1e3){var s="Your image is quite large. Computing the SVD may take a while. Continue?";if(!window.confirm(s))return}this.setState({width:r,height:n,img:e,svds:null,error:""});var a=S.imageDataToPixels(t);b(n,r,a,function(e){i.setState({svds:o(e),approx:e.approx})})},t.prototype.loadImage=function(e,t){void 0===t&&(t=null),this.setState({placeholderImg:t}),a(e,this.initializeImage.bind(this))},t.prototype.onDragOver=function(e){if(e.preventDefault(),!this.state.hover){var t=e.dataTransfer.types,i=p(t,"text/uri-list")||p(t,"Files")?"":"The dragged object is not an image!";this.setState({hover:!0,error:i})}},t.prototype.onDragLeave=function(e){this.setState({hover:!1,error:""})},t.prototype.onDrop=function(e){this.setState({hover:!1}),e.preventDefault();var t=e.dataTransfer.files;t&&t.length>0?this.onFileChosen(t[0]):p(e.dataTransfer.types,"text/uri-list")&&this.loadImage(e.dataTransfer.getData("text/uri-list"))},t.prototype.onFileChosen=function(e){var t=this;if(!e.type.match(/^image\/.*/)){var i="The chosen file is not an image! Try another file ...";return void this.setState({error:i})}this.setState({error:""});var r=new FileReader;r.onload=function(e){var i=e.target;t.loadImage(i.result)},r.readAsDataURL(e)},t.prototype.onUpdateSvs=function(e){this.setState({numSvs:e})},t.prototype.onChangeSvs=function(e){var t=this;window.setTimeout(function(){t.refs.svdView.refreshImageData()},400)},t.prototype.clickShowSvs=function(e){e.preventDefault(),this.setState({showSvs:!this.state.showSvs})},t.prototype.clickHoverToSeeOriginal=function(e){e.preventDefault(),this.setState({hoverToSeeOriginal:!this.state.hoverToSeeOriginal})},t.prototype.onClickGallery=function(e){e.quiz&&this.setState({numSvs:1}),this.loadImage(e.url)},t.prototype.onScrollGallery=function(e){var t=l(e),i=this.state.guessingPage!==t;i&&this.setState({guessingPage:t,hoverToSeeOriginal:!t})},t.prototype.render=function(){var e=this.state.width,t=this.state.height,i=this.state,r=i.img,n=i.placeholderImg,s=i.numSvs,o=null;this.state.error?o=this.state.error:this.state.hover?o="Drop now!":this.state.svds?this.state.approx&&(o=f.createElement("span",null,"Showing approximate SVD ",f.createElement("img",{src:"deps/spinner.gif",width:"16",height:"16"})," Computing precise result ")):o=f.createElement("span",null,"Please wait ");var a,l={width:e+240,height:t-20},c=f.createElement("div",{className:"drop-target "+(this.state.error?"":"active"),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),onDrop:this.onDrop.bind(this)}),u=null;this.state.svds&&r?(u=f.createElement(M,{ref:"svdView",svds:this.state.svds,numSvs:s,width:e,height:t,img:r,hoverToSeeOriginal:this.state.hoverToSeeOriginal}),a=this.state.svds.red.d):(a=1,n?u=f.createElement("img",{width:e,height:t,src:n}):r&&(u=f.createElement(O,{width:e,height:t,img:r})));var d=t*s+s+s*e,p=f.createElement("div",{className:"stats",style:{left:e+20}},f.createElement("table",null,f.createElement("tbody",null,f.createElement("tr",null,f.createElement("th",{className:"label"},"Image size"),f.createElement("td",null,e,"  ",t)),f.createElement("tr",null,f.createElement("th",{className:"label"},"#pixels"),f.createElement("td",null,"= ",e*t)))),f.createElement("p",null,f.createElement("span",{className:"label"},"Uncompressed size"),f.createElement("br",null),"proportional to number of pixels"),f.createElement("p",null,f.createElement("span",{className:"label"},"Compressed size"),f.createElement("br",null),"approximately proportional to ",f.createElement("br",null),t,"",s," + ",s," + ",s,"",e," ",f.createElement("br",null),"= ",d),f.createElement("p",null,f.createElement("span",{className:"label"},"Compression ratio"),f.createElement("br",null),e*t," / ",d," = ",(e*t/d).toFixed(2)),f.createElement("p",null,f.createElement("a",{className:"button toggle-show-svs "+(this.state.showSvs?"active":""),href:"#",onClick:this.clickShowSvs.bind(this)},"Show singular values")),f.createElement("p",{className:"hint"},f.createElement("a",{className:"toggle-hover-original "+(this.state.hoverToSeeOriginal?"active":""),href:"#",onClick:this.clickHoverToSeeOriginal.bind(this)},f.createElement("span",{className:"check-box"},this.state.hoverToSeeOriginal?f.createElement("span",null,""):f.createElement("span",null,"")),f.createElement("span",{className:"text"},"hover to see the original picture"))));return f.createElement("div",null,this.state.hover?c:"",f.createElement("div",{className:"image-container",style:l},u?u:"",this.state.svds&&this.state.showSvs?f.createElement(N,{svds:this.state.svds,numSvs:s,width:e,height:t}):"",o?f.createElement("p",{className:"info-bar"},o):"",p),f.createElement("div",{className:"wrapper"},f.createElement("div",{className:"options"},f.createElement(E,{value:s,maxSvs:a,onUpdate:this.onUpdateSvs.bind(this),onChange:this.onChangeSvs.bind(this),max:Math.min(e,t)})),f.createElement("p",null,this.state.guessingPage?"How many singular values do you need to recognize the subject of these pictures?":"Change the number of singular values using the slider. Click on one of these images to compress it:"),f.createElement(C,{ref:"gallery",onClick:this.onClickGallery.bind(this),onScroll:this.onScrollGallery.bind(this)}),f.createElement("p",null,f.createElement("span",{className:"valign"},"You can compress your own images by using the"),f.createElement(k,{onChange:this.onFileChosen.bind(this),label:"file picker"}),f.createElement("span",{className:"valign"},"or by dropping them on this page."))))},t}(f.Component);m.render(f.createElement(D,null),document.getElementById("app"))},{"../shared/svd-worker-protocol":27,"../shared/types":28,"./image-svd":26,nouislider:9,react:"react","react-dom":"react-dom","react-slick":16}],26:[function(e,t,i){"use strict";function r(e){for(var t=e.width,i=e.height,r=new Float64Array(i*t),n=new Float64Array(i*t),s=new Float64Array(i*t),o=0,a=0;a<i;a++)for(var l=0;l<t;l++){var c=l*i+a;r[c]=e.data[o],n[c]=e.data[o+1],s[c]=e.data[o+2],o+=4}return{red:r,green:n,blue:s}}function n(e,t,i,r,n){var s="multiplySvds"+Math.round(100*Math.random());console.time(s);var o=e.red,a=e.green,l=e.blue,c=o.n,u=o.m,d=o.d;r=Math.min(r,d);for(var p=o.u,h=o.vt,f=o.s,m=a.u,g=a.vt,v=a.s,S=l.u,w=l.vt,y=l.s,b=t.red,x=t.green,k=t.blue,C=0;C<u;C++)for(var E=0;E<c;E++){for(var T=0,M=0,N=0,O=r-1;O>=i;O--)T+=p[O*u+C]*f[O]*h[E*d+O],M+=m[O*u+C]*v[O]*g[E*d+O],N+=S[O*u+C]*y[O]*w[E*d+O];var L=C*c+E;b[L]+=T*n,x[L]+=M*n,k[L]+=N*n}console.timeEnd(s)}i.imageDataToPixels=r,i.multiplySvds=n},{}],27:[function(e,t,i){"use strict";function r(e){return{msg:"set-input",a:e.a,m:e.m,n:e.n}}function n(e){return{msg:"compute-svd",approx:e.approx}}i.makeSetInputReq=r,i.makeComputeSVDReq=n},{}],28:[function(e,t,i){"use strict";function r(){return{get:function(e){var t=e.red;return t},set:function(e,t){var i=e.green,r=e.blue;return{red:t,green:i,blue:r}}}}function n(){return{get:function(e){var t=e.green;return t},set:function(e,t){var i=e.red,r=e.blue;return{red:i,green:t,blue:r}}}}function s(){return{get:function(e){var t=e.blue;return t},set:function(e,t){var i=e.red,r=e.green;return{red:i,green:r,blue:t}}}}i.mkRedLens=r,i.mkGreenLens=n,i.mkBlueLens=s},{}]},{},[25]);
//# sourceMappingURL=app.js.map
