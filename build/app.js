!function e(t,i,s){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,s)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<s.length;o++)r(s[o]);return r}({1:[function(e,t,i){var s=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=s},{}],2:[function(e,t,i){!function(){"use strict";function e(){for(var t=[],s=0;s<arguments.length;s++){var r=arguments[s];if(r){var n=typeof r;if("string"===n||"number"===n)t.push(r);else if(Array.isArray(r))t.push(e.apply(null,r));else if("object"===n)for(var o in r)i.call(r,o)&&r[o]&&t.push(o)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}()},{}],3:[function(e,t,i){!function(e,i,s){var r=window.matchMedia;"undefined"!=typeof t&&t.exports?t.exports=s(r):"function"==typeof define&&define.amd?define(function(){return i[e]=s(r)}):i[e]=s(r)}("enquire",this,function(e){"use strict";function t(e,t){var i,s=0,r=e.length;for(s;s<r&&(i=t(e[s],s),i!==!1);s++);}function i(e){return"[object Array]"===Object.prototype.toString.apply(e)}function s(e){return"function"==typeof e}function r(e){this.options=e,!e.deferSetup&&this.setup()}function n(t,i){this.query=t,this.isUnconditional=i,this.handlers=[],this.mql=e(t);var s=this;this.listener=function(e){s.mql=e,s.assess()},this.mql.addListener(this.listener)}function o(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return r.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},n.prototype={addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var i=this.handlers;t(i,function(t,s){if(t.equals(e))return t.destroy(),!i.splice(s,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},o.prototype={register:function(e,r,o){var a=this.queries,l=o&&this.browserIsIncapable;return a[e]||(a[e]=new n(e,l)),s(r)&&(r={match:r}),i(r)||(r=[r]),t(r,function(t){a[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},new o})},{}],4:[function(e,t,i){var s=e("string-convert/camel2hyphen"),r=function(e){var t=/[height|width]$/;return t.test(e)},n=function(e){var t="",i=Object.keys(e);return i.forEach(function(n,o){var a=e[n];n=s(n),r(n)&&"number"==typeof a&&(a+="px"),t+=a===!0?n:a===!1?"not "+n:"("+n+": "+a+")",o<i.length-1&&(t+=" and ")}),t},o=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach(function(i,s){t+=n(i),s<e.length-1&&(t+=", ")}),t):n(e)};t.exports=o},{"string-convert/camel2hyphen":20}],5:[function(e,t,i){!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof i?t.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e,t){var i=document.createElement("div");return c(i,t),e.appendChild(i),i}function t(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function i(e,t){return Math.round(e/t)*t}function s(e,t){var i=e.getBoundingClientRect(),s=e.ownerDocument,r=s.documentElement,n=p();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(n.x=0),t?i.top+n.y-r.clientTop:i.left+n.x-r.clientLeft}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,i){i>0&&(c(e,t),setTimeout(function(){u(e,t)},i))}function o(e){return Math.max(Math.min(e,100),0)}function a(e){return Array.isArray(e)?e:[e]}function l(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function c(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function p(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),i=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,s=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:i,y:s}}function h(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function f(e,t){return 100/(t-e)}function m(e,t){return 100*t/(e[1]-e[0])}function g(e,t){return m(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function v(e,t){return t*(e[1]-e[0])/100+e[0]}function S(e,t){for(var i=1;e>=t[i];)i+=1;return i}function w(e,t,i){if(i>=e.slice(-1)[0])return 100;var s,r,n,o,a=S(i,e);return s=e[a-1],r=e[a],n=t[a-1],o=t[a],n+g([s,r],i)/f(n,o)}function y(e,t,i){if(i>=100)return e.slice(-1)[0];var s,r,n,o,a=S(i,t);return s=e[a-1],r=e[a],n=t[a-1],o=t[a],v([s,r],(i-n)*f(n,o))}function b(e,t,s,r){if(100===r)return r;var n,o,a=S(r,e);return s?(n=e[a-1],o=e[a],r-n>(o-n)/2?o:n):t[a-1]?e[a-1]+i(r-e[a-1],t[a-1]):r}function x(e,t,i){var s;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider: 'range' contains invalid value.");if(s="min"===e?0:"max"===e?100:parseFloat(e),!r(s)||!r(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(s),i.xVal.push(t[0]),s?i.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(i.xSteps[0]=t[1]),i.xHighestCompleteStep.push(0)}function k(e,t,i){if(!t)return!0;i.xSteps[e]=m([i.xVal[e],i.xVal[e+1]],t)/f(i.xPct[e],i.xPct[e+1]);var s=(i.xVal[e+1]-i.xVal[e])/i.xNumSteps[e],r=Math.ceil(Number(s.toFixed(3))-1),n=i.xVal[e]+i.xNumSteps[e]*r;i.xHighestCompleteStep[e]=n}function C(e,t,i,s){this.xPct=[],this.xVal=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t,this.direction=i;var r,n=[];for(r in e)e.hasOwnProperty(r)&&n.push([e[r],r]);for(n.length&&"object"==typeof n[0][0]?n.sort(function(e,t){return e[0][0]-t[0][0]}):n.sort(function(e,t){return e[0]-t[0]}),r=0;r<n.length;r++)x(n[r][1],n[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)k(r,this.xNumSteps[r],this)}function E(e,t){if(!r(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function T(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new C(t,e.snap,e.dir,e.singleStep)}function M(e,t){if(t=a(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function N(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function O(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function D(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function L(e,t){var i,s=[!1];if(t===!0||t===!1){for(i=1;i<e.handles;i++)s.push(t);s.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");s=t}e.connect=s}function P(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function H(e,t){if(!r(t))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function j(e,t){if(!r(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function I(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function W(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,s=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,n=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");H(e,e.start[1]-e.start[0])}e.events={tap:i||n,drag:s,fixed:r,snap:n,hover:o}}function A(e,t){if(t!==!1)if(t===!0){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(!0)}else{if(e.tooltips=a(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function _(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function z(e,t){if(void 0!==t&&"string"!=typeof t&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function U(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var i in t)t.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+t[i])}else e.cssClasses=t}function q(e,t){if(t!==!0&&t!==!1)throw new Error("noUiSlider: 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function R(e){var t,i={margin:0,limit:0,animate:!0,animationDuration:300,format:B};t={step:{r:!1,t:E},start:{r:!0,t:M},connect:{r:!0,t:L},direction:{r:!0,t:I},snap:{r:!1,t:N},animate:{r:!1,t:O},animationDuration:{r:!1,t:D},range:{r:!0,t:T},orientation:{r:!1,t:P},margin:{r:!1,t:H},limit:{r:!1,t:j},behaviour:{r:!0,t:W},format:{r:!1,t:_},tooltips:{r:!1,t:A},cssPrefix:{r:!1,t:z},cssClasses:{r:!1,t:U},useRequestAnimationFrame:{r:!1,t:q}};var s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(t).forEach(function(r){if(void 0===e[r]&&void 0===s[r]){if(t[r].r)throw new Error("noUiSlider: '"+r+"' is required.");return!0}t[r].t(i,void 0===e[r]?s[r]:e[r])}),i.pips=e.pips;var r=[["left","top"],["right","bottom"]];return i.style=r[i.dir][i.ort],i.styleOposite=r[i.dir?0:1][i.ort],i}function V(i,r,l){function f(t,i){var s=e(t,r.cssClasses.origin),n=e(s,r.cssClasses.handle);return n.setAttribute("data-handle",i),s}function m(t,i){return!!i&&e(t,r.cssClasses.connect)}function g(e,t){te=[],ie=[],ie.push(m(t,e[0]));for(var i=0;i<r.handles;i++)te.push(f(t,i)),ae[i]=i,ie.push(m(t,e[i+1]))}function v(t){c(t,r.cssClasses.target),0===r.dir?c(t,r.cssClasses.ltr):c(t,r.cssClasses.rtl),0===r.ort?c(t,r.cssClasses.horizontal):c(t,r.cssClasses.vertical),ee=e(t,r.cssClasses.base)}function S(t,i){return!!r.tooltips[i]&&e(t.firstChild,r.cssClasses.tooltip)}function w(){var e=te.map(S);$("update",function(t,i,s){if(e[i]){var n=t[i];r.tooltips[i]!==!0&&(n=r.tooltips[i].to(s[i])),e[i].innerHTML=n}})}function y(e,t,i){if("range"===e||"steps"===e)return le.xVal;if("count"===e){var s,r=100/(t-1),n=0;for(t=[];(s=n++*r)<=100;)t.push(s);e="positions"}return"positions"===e?t.map(function(e){return le.fromStepping(i?le.getStep(e):e)}):"values"===e?i?t.map(function(e){return le.fromStepping(le.getStep(le.toStepping(e)))}):t:void 0}function b(e,i,s){function r(e,t){return(e+t).toFixed(7)/1}var n={},o=le.xVal[0],a=le.xVal[le.xVal.length-1],l=!1,c=!1,u=0;return s=t(s.slice().sort(function(e,t){return e-t})),s[0]!==o&&(s.unshift(o),l=!0),s[s.length-1]!==a&&(s.push(a),c=!0),s.forEach(function(t,o){var a,d,p,h,f,m,g,v,S,w,y=t,b=s[o+1];if("steps"===i&&(a=le.xNumSteps[o]),a||(a=b-y),y!==!1&&void 0!==b)for(a=Math.max(a,1e-7),d=y;d<=b;d=r(d,a)){for(h=le.toStepping(d),f=h-u,v=f/e,S=Math.round(v),w=f/S,p=1;p<=S;p+=1)m=u+p*w,n[m.toFixed(5)]=["x",0];g=s.indexOf(d)>-1?1:"steps"===i?2:0,!o&&l&&(g=0),d===b&&c||(n[h.toFixed(5)]=[d,g]),u=h}}),n}function x(e,t,i){function s(e,t){var i=t===r.cssClasses.value,s=i?p:h,n=i?u:d;return t+" "+s[r.ort]+" "+n[e]}function n(e,t,i){return'class="'+s(i[1],t)+'" style="'+r.style+": "+e+'%"'}function o(e,s){s[1]=s[1]&&t?t(s[0],s[1]):s[1],l+="<div "+n(e,r.cssClasses.marker,s)+"></div>",s[1]&&(l+="<div "+n(e,r.cssClasses.value,s)+">"+i.to(s[0])+"</div>")}var a=document.createElement("div"),l="",u=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],d=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],p=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return c(a,r.cssClasses.pips),c(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){o(t,e[t])}),a.innerHTML=l,a}function k(e){var t=e.mode,i=e.density||1,s=e.filter||!1,r=e.values||!1,n=e.stepped||!1,o=y(t,r,n),a=b(i,t,o),l=e.format||{to:Math.round};return ne.appendChild(x(a,s,l))}function C(){var e=ee.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||ee[t]:e.height||ee[t]}function E(e,t,i,s){var n=function(t){return!ne.hasAttribute("disabled")&&(!d(ne,r.cssClasses.tap)&&(t=T(t,s.pageOffset),!(e===re.start&&void 0!==t.buttons&&t.buttons>1)&&((!s.hover||!t.buttons)&&(t.calcPoint=t.points[r.ort],void i(t,s)))))},o=[];return e.split(" ").forEach(function(e){t.addEventListener(e,n,!1),o.push([e,n])}),o}function T(e,t){e.preventDefault();var i,s,r=0===e.type.indexOf("touch"),n=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),a=e;if(0===e.type.indexOf("MSPointer")&&(o=!0),r){if(a.touches.length>1)return!1;i=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY}return t=t||p(),(n||o)&&(i=e.clientX+t.x,s=e.clientY+t.y),a.pageOffset=t,a.points=[i,s],a.cursor=n||o,a}function M(e){var t=e-s(ee,r.ort),i=100*t/C();return r.dir?100-i:i}function N(e){var t=100,i=!1;return te.forEach(function(s,r){if(!s.hasAttribute("disabled")){var n=Math.abs(oe[r]-e);n<t&&(i=r,t=n)}}),i}function O(e,t,i,s){var r=i.slice(),n=[!e,e],o=[e,!e];s=s.slice(),e&&s.reverse(),s.length>1?s.forEach(function(e,i){var s=_(r,e,r[e]+t,n[i],o[i]);s===!1?t=0:(t=s-r[e],r[e]=s)}):n=o=[!0];var a=!1;s.forEach(function(e,s){a=V(e,i[e]+t,n[s],o[s])||a}),a&&s.forEach(function(e){D("update",e),D("slide",e)})}function D(e,t,i){Object.keys(ue).forEach(function(s){var n=s.split(".")[0];e===n&&ue[s].forEach(function(e){e.call(se,ce.map(r.format.to),t,ce.slice(),i||!1,oe.slice())})})}function L(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&H(e,t)}function P(e,t){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===e.buttons&&0!==t.buttonsProperty)return H(e,t);var i=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint),s=100*i/t.baseSize;O(i>0,s,t.locations,t.handleNumbers)}function H(e,t){var i=ee.querySelector("."+r.cssClasses.active);null!==i&&u(i,r.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(e){document.documentElement.removeEventListener(e[0],e[1])}),u(ne,r.cssClasses.drag),q(),t.handleNumbers.forEach(function(e){D("set",e),D("change",e),D("end",e)})}function j(e,t){if(1===t.handleNumbers.length){var i=te[t.handleNumbers[0]];if(i.hasAttribute("disabled"))return!1;c(i.children[0],r.cssClasses.active)}e.preventDefault(),e.stopPropagation();var s=E(re.move,document.documentElement,P,{startCalcPoint:e.calcPoint,baseSize:C(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:oe.slice()}),n=E(re.end,document.documentElement,H,{handleNumbers:t.handleNumbers}),o=E("mouseout",document.documentElement,L,{handleNumbers:t.handleNumbers});if(document.documentElement.noUiListeners=s.concat(n,o),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,te.length>1&&c(ne,r.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}t.handleNumbers.forEach(function(e){D("start",e)})}function I(e){e.stopPropagation();var t=M(e.calcPoint),i=N(t);return i!==!1&&(r.events.snap||n(ne,r.cssClasses.tap,r.animationDuration),V(i,t,!0,!0),q(),D("slide",i,!0),D("set",i,!0),D("change",i,!0),D("update",i,!0),void(r.events.snap&&j(e,{handleNumbers:[i]})))}function W(e){var t=M(e.calcPoint),i=le.getStep(t),s=le.fromStepping(i);Object.keys(ue).forEach(function(e){"hover"===e.split(".")[0]&&ue[e].forEach(function(e){e.call(se,s)})})}function A(e){e.fixed||te.forEach(function(e,t){E(re.start,e.children[0],j,{handleNumbers:[t]})}),e.tap&&E(re.start,ee,I,{}),e.hover&&E(re.move,ee,W,{hover:!0}),e.drag&&ie.forEach(function(t,i){if(t!==!1&&0!==i&&i!==ie.length-1){var s=te[i-1],n=te[i],o=[t];c(t,r.cssClasses.draggable),e.fixed&&(o.push(s.children[0]),o.push(n.children[0])),o.forEach(function(e){E(re.start,e,j,{handles:[s,n],handleNumbers:[i-1,i]})})}})}function _(e,t,i,s,n){return te.length>1&&(s&&t>0&&(i=Math.max(i,e[t-1]+r.margin)),n&&t<te.length-1&&(i=Math.min(i,e[t+1]-r.margin))),te.length>1&&r.limit&&(s&&t>0&&(i=Math.min(i,e[t-1]+r.limit)),n&&t<te.length-1&&(i=Math.max(i,e[t+1]-r.limit))),i=le.getStep(i),i=o(i),i!==e[t]&&i}function z(e){return e+"%"}function U(e,t){oe[e]=t,ce[e]=le.fromStepping(t);var i=function(){te[e].style[r.style]=z(t),F(e),F(e+1)};window.requestAnimationFrame&&r.useRequestAnimationFrame?window.requestAnimationFrame(i):i()}function q(){ae.forEach(function(e){var t=oe[e]>50?-1:1,i=3+(te.length+t*e);te[e].childNodes[0].style.zIndex=i})}function V(e,t,i,s){return t=_(oe,e,t,i,s),t!==!1&&(U(e,t),!0)}function F(e){if(ie[e]){var t=0,i=100;0!==e&&(t=oe[e-1]),e!==ie.length-1&&(i=oe[e]),ie[e].style[r.style]=z(t),ie[e].style[r.styleOposite]=z(100-i)}}function B(e,t){null!==e&&e!==!1&&("number"==typeof e&&(e=String(e)),e=r.format.from(e),e===!1||isNaN(e)||V(t,le.toStepping(e),!1,!1))}function Y(e,t){var i=a(e),s=void 0===oe[0];t=void 0===t||!!t,i.forEach(B),r.animate&&!s&&n(ne,r.cssClasses.tap,r.animationDuration),ae.forEach(function(e){V(e,oe[e],!0,!1)}),q(),ae.forEach(function(e){D("update",e),null!==i[e]&&t&&D("set",e)})}function G(e){Y(r.start,e)}function X(){var e=ce.map(r.format.to);return 1===e.length?e[0]:e}function K(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&u(ne,r.cssClasses[e]);for(;ne.firstChild;)ne.removeChild(ne.firstChild);delete ne.noUiSlider}function Z(){return oe.map(function(e,t){var i=le.getNearbySteps(e),s=ce[t],r=i.thisStep.step,n=null;r!==!1&&s+r>i.stepAfter.startValue&&(r=i.stepAfter.startValue-s),n=s>i.thisStep.startValue?i.thisStep.step:i.stepBefore.step!==!1&&s-i.stepBefore.highestStep,100===e?r=null:0===e&&(n=null);var o=le.countStepDecimals();return null!==r&&r!==!1&&(r=Number(r.toFixed(o))),null!==n&&n!==!1&&(n=Number(n.toFixed(o))),[n,r]})}function $(e,t){ue[e]=ue[e]||[],ue[e].push(t),"update"===e.split(".")[0]&&te.forEach(function(e,t){D("update",t)})}function J(e){var t=e&&e.split(".")[0],i=t&&e.substring(t.length);Object.keys(ue).forEach(function(e){var s=e.split(".")[0],r=e.substring(s.length);t&&t!==s||i&&i!==r||delete ue[e]})}function Q(e,t){var i=X(),s=["margin","limit","range","animate","snap","step","format"];s.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var n=R(l);s.forEach(function(t){void 0!==e[t]&&(r[t]=n[t])}),n.spectrum.direction=le.direction,le=n.spectrum,r.margin=n.margin,r.limit=n.limit,oe=[],Y(e.start||i,t)}var ee,te,ie,se,re=h(),ne=i,oe=[],ae=[],le=r.spectrum,ce=[],ue={};if(ne.noUiSlider)throw new Error("Slider was already initialized.");return v(ne),g(r.connect,ee),se={destroy:K,steps:Z,on:$,off:J,get:X,set:Y,reset:G,__moveHandles:function(e,t,i){O(e,t,oe,i)},options:l,updateOptions:Q,target:ne,pips:k},A(r.events),Y(r.start),r.pips&&k(r.pips),r.tooltips&&w(),se}function F(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var i=R(t,e),s=V(e,i,t);return e.noUiSlider=s,s}C.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e%t)throw new Error("noUiSlider: 'limit' and 'margin' must be divisible by step.");return 2===this.xPct.length&&m(this.xVal,e)},C.prototype.toStepping=function(e){return e=w(this.xVal,this.xPct,e)},C.prototype.fromStepping=function(e){return y(this.xVal,this.xPct,e)},C.prototype.getStep=function(e){return e=b(this.xPct,this.xSteps,this.snap,e)},C.prototype.getNearbySteps=function(e){var t=S(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},C.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(l);return Math.max.apply(null,e)},C.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var B={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{create:F}})},{}],6:[function(e,t,i){function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(d===setTimeout)return setTimeout(e,0);if((d===s||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){g&&f&&(g=!1,f.length?m=f.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=n(a);g=!0;for(var t=m.length;t;){for(f=m,m=[];++v<t;)f&&f[v].run();v=-1,t=m.length}f=null,g=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:s}catch(e){d=s}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,m=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];m.push(new c(e,t)),1!==m.length||g||n(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],7:[function(e,t,i){var s=e("can-use-dom"),r=s&&e("enquire.js"),n=e("json2mq"),o={media:function(e,t){e=n(e),"function"==typeof t&&(t={match:t}),s&&r.register(e,t),this._responsiveMediaHandlers||(this._responsiveMediaHandlers=[]),this._responsiveMediaHandlers.push({query:e,handler:t})},componentWillUnmount:function(){this._responsiveMediaHandlers&&this._responsiveMediaHandlers.forEach(function(e){s&&r.unregister(e.query,e.handler)})}};t.exports=o},{"can-use-dom":1,"enquire.js":3,json2mq:4}],8:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.NextArrow=i.PrevArrow=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},n=e("react"),o=s(n),a=e("classnames"),l=s(a),c=e("./mixins/helpers"),u=s(c);i.PrevArrow=o.default.createClass({displayName:"PrevArrow",clickHandler:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var i,s={key:"0","data-role":"none",className:(0,l.default)(e),style:{display:"block"},onClick:t};return i=this.props.prevArrow?o.default.cloneElement(this.props.prevArrow,s):o.default.createElement("button",r({key:"0",type:"button"},s)," Previous")}}),i.NextArrow=o.default.createClass({displayName:"NextArrow",clickHandler:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});u.default.canGoNext(this.props)||(e["slick-disabled"]=!0,t=null);var i,s={key:"1","data-role":"none",className:(0,l.default)(e),style:{display:"block"},onClick:t};return i=this.props.nextArrow?o.default.cloneElement(this.props.nextArrow,s):o.default.createElement("button",r({key:"1",type:"button"},s)," Next")}})},{"./mixins/helpers":15,classnames:2,react:"react"}],9:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),n=s(r),o={className:"",accessibility:!0,adaptiveHeight:!1,arrows:!0,autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e){return n.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:!1,pauseOnHover:!0,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,afterChange:null,beforeChange:null,edgeEvent:null,init:null,swipeEvent:null,nextArrow:null,prevArrow:null};t.exports=o},{react:"react"}],10:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.Dots=void 0;var r=e("react"),n=s(r),o=e("classnames"),a=s(o),l=function(e){var t;return t=Math.ceil(e.slideCount/e.slidesToScroll)};i.Dots=n.default.createClass({displayName:"Dots",clickHandler:function(e,t){t.preventDefault(),this.props.clickHandler(e)},render:function(){var e=this,t=l({slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll}),i=Array.apply(null,Array(t+1).join("0").split("")).map(function(t,i){var s=i*e.props.slidesToScroll,r=i*e.props.slidesToScroll+(e.props.slidesToScroll-1),o=(0,a.default)({"slick-active":e.props.currentSlide>=s&&e.props.currentSlide<=r}),l={message:"dots",index:i,slidesToScroll:e.props.slidesToScroll,currentSlide:e.props.currentSlide},c=e.clickHandler.bind(e,l);return n.default.createElement("li",{key:i,className:o},n.default.cloneElement(e.props.customPaging(i),{onClick:c}))});return n.default.createElement("ul",{className:this.props.dotsClass,style:{display:"block"}},i)}})},{classnames:2,react:"react"}],11:[function(e,t,i){"use strict";t.exports=e("./slider")},{"./slider":17}],12:[function(e,t,i){"use strict";var s={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,listWidth:null,listHeight:null,slideCount:null,slideWidth:null,slideHeight:null,swipeLeft:null,touchObject:{startX:0,startY:0,curX:0,curY:0},lazyLoadedList:[],initialized:!1,edgeDragged:!1,swiped:!1,trackStyle:{},trackWidth:0};t.exports=s},{}],13:[function(e,t,i){(function(t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.InnerSlider=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},n=e("react"),o=s(n),a=e("./mixins/event-handlers"),l=s(a),c=e("./mixins/helpers"),u=s(c),d=e("./initial-state"),p=s(d),h=e("./default-props"),f=s(h),m=e("classnames"),g=s(m),v=e("object-assign"),S=s(v),w=e("./track"),y=e("./dots"),b=e("./arrows");i.InnerSlider=o.default.createClass({displayName:"InnerSlider",mixins:[u.default,l.default],list:null,track:null,listRefHandler:function(e){this.list=e},trackRefHandler:function(e){this.track=e},getInitialState:function(){return r({},p.default,{currentSlide:this.props.initialSlide})},getDefaultProps:function(){return f.default},componentWillMount:function(){this.props.init&&this.props.init(),this.setState({mounted:!0});for(var e=[],t=0;t<o.default.Children.count(this.props.children);t++)t>=this.state.currentSlide&&t<this.state.currentSlide+this.props.slidesToShow&&e.push(t);this.props.lazyLoad&&0===this.state.lazyLoadedList.length&&this.setState({lazyLoadedList:e})},componentDidMount:function(){this.initialize(this.props),this.adaptHeight(),window&&(window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized))},componentWillUnmount:function(){this.animationEndCallback&&clearTimeout(this.animationEndCallback),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.state.autoPlayTimer&&clearInterval(this.state.autoPlayTimer)},componentWillReceiveProps:function(e){this.props.slickGoTo!=e.slickGoTo?("production"!==t.env.NODE_ENV&&console.warn("react-slick deprecation warning: slickGoTo prop is deprecated and it will be removed in next release. Use slickGoTo method instead"),this.changeSlide({message:"index",index:e.slickGoTo,currentSlide:this.state.currentSlide})):this.state.currentSlide>=e.children.length?(this.update(e),this.changeSlide({message:"index",index:e.children.length-e.slidesToShow,currentSlide:this.state.currentSlide})):this.update(e)},componentDidUpdate:function(){this.adaptHeight()},onWindowResized:function(){this.update(this.props),this.setState({animating:!1}),clearTimeout(this.animationEndCallback),delete this.animationEndCallback},slickPrev:function(){this.changeSlide({message:"previous"})},slickNext:function(){this.changeSlide({message:"next"})},slickGoTo:function(e){"number"==typeof e&&this.changeSlide({message:"index",index:e,currentSlide:this.state.currentSlide})},render:function(){var e,t=(0,g.default)("slick-initialized","slick-slider",this.props.className,{"slick-vertical":this.props.vertical}),i={fade:this.props.fade,cssEase:this.props.cssEase,speed:this.props.speed,infinite:this.props.infinite,centerMode:this.props.centerMode,focusOnSelect:this.props.focusOnSelect?this.selectHandler:null,currentSlide:this.state.currentSlide,
lazyLoad:this.props.lazyLoad,lazyLoadedList:this.state.lazyLoadedList,rtl:this.props.rtl,slideWidth:this.state.slideWidth,slidesToShow:this.props.slidesToShow,slidesToScroll:this.props.slidesToScroll,slideCount:this.state.slideCount,trackStyle:this.state.trackStyle,variableWidth:this.props.variableWidth};if(this.props.dots===!0&&this.state.slideCount>=this.props.slidesToShow){var s={dotsClass:this.props.dotsClass,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,currentSlide:this.state.currentSlide,slidesToScroll:this.props.slidesToScroll,clickHandler:this.changeSlide,children:this.props.children,customPaging:this.props.customPaging};e=o.default.createElement(y.Dots,s)}var n,a,l={infinite:this.props.infinite,centerMode:this.props.centerMode,currentSlide:this.state.currentSlide,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,prevArrow:this.props.prevArrow,nextArrow:this.props.nextArrow,clickHandler:this.changeSlide};this.props.arrows&&(n=o.default.createElement(b.PrevArrow,l),a=o.default.createElement(b.NextArrow,l));var c=null;this.props.vertical&&(c={height:this.state.listHeight});var u=null;this.props.vertical===!1?this.props.centerMode===!0&&(u={padding:"0px "+this.props.centerPadding}):this.props.centerMode===!0&&(u={padding:this.props.centerPadding+" 0px"});var d=(0,S.default)({},c,u);return o.default.createElement("div",{className:t,onMouseEnter:this.onInnerSliderEnter,onMouseLeave:this.onInnerSliderLeave},n,o.default.createElement("div",{ref:this.listRefHandler,className:"slick-list",style:d,onMouseDown:this.swipeStart,onMouseMove:this.state.dragging?this.swipeMove:null,onMouseUp:this.swipeEnd,onMouseLeave:this.state.dragging?this.swipeEnd:null,onTouchStart:this.swipeStart,onTouchMove:this.state.dragging?this.swipeMove:null,onTouchEnd:this.swipeEnd,onTouchCancel:this.state.dragging?this.swipeEnd:null,onKeyDown:this.props.accessibility?this.keyHandler:null},o.default.createElement(w.Track,r({ref:this.trackRefHandler},i),this.props.children)),a,e)}})}).call(this,e("_process"))},{"./arrows":8,"./default-props":9,"./dots":10,"./initial-state":12,"./mixins/event-handlers":14,"./mixins/helpers":15,"./track":18,_process:6,classnames:2,"object-assign":19,react:"react"}],14:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var r=e("./trackHelper"),n=e("./helpers"),o=(s(n),e("object-assign")),a=s(o),l=e("react-dom"),c=s(l),u={changeSlide:function(e){var t,i,s,r,n,o=this.props,a=o.slidesToScroll,l=o.slidesToShow,c=this.state,u=c.slideCount,d=c.currentSlide;if(r=u%a!==0,t=r?0:(u-d)%a,"previous"===e.message)s=0===t?a:l-t,n=d-s,this.props.lazyLoad&&(i=d-s,n=i===-1?u-1:i);else if("next"===e.message)s=0===t?a:t,n=d+s,this.props.lazyLoad&&(n=(d+a)%u+t);else if("dots"===e.message||"children"===e.message){if(n=e.index*e.slidesToScroll,n===e.currentSlide)return}else if("index"===e.message&&(n=parseInt(e.index),n===e.currentSlide))return;this.slideHandler(n)},keyHandler:function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&this.props.accessibility===!0?this.changeSlide({message:this.props.rtl===!0?"next":"previous"}):39===e.keyCode&&this.props.accessibility===!0&&this.changeSlide({message:this.props.rtl===!0?"previous":"next"}))},selectHandler:function(e){this.changeSlide(e)},swipeStart:function(e){var t,i;this.props.swipe===!1||"ontouchend"in document&&this.props.swipe===!1||this.props.draggable===!1&&e.type.indexOf("mouse")!==-1||(t=void 0!==e.touches?e.touches[0].pageX:e.clientX,i=void 0!==e.touches?e.touches[0].pageY:e.clientY,this.setState({dragging:!0,touchObject:{startX:t,startY:i,curX:t,curY:i}}))},swipeMove:function(e){if(!this.state.dragging)return void e.preventDefault();if(!this.state.animating){this.props.vertical&&this.props.swipeToSlide&&this.props.verticalSwiping&&e.preventDefault();var t,i,s,n=this.state.touchObject;i=(0,r.getTrackLeft)((0,a.default)({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state)),n.curX=e.touches?e.touches[0].pageX:e.clientX,n.curY=e.touches?e.touches[0].pageY:e.clientY,n.swipeLength=Math.round(Math.sqrt(Math.pow(n.curX-n.startX,2))),this.props.verticalSwiping&&(n.swipeLength=Math.round(Math.sqrt(Math.pow(n.curY-n.startY,2)))),s=(this.props.rtl===!1?1:-1)*(n.curX>n.startX?1:-1),this.props.verticalSwiping&&(s=n.curY>n.startY?1:-1);var o=this.state.currentSlide,l=Math.ceil(this.state.slideCount/this.props.slidesToScroll),c=this.swipeDirection(this.state.touchObject),u=n.swipeLength;this.props.infinite===!1&&(0===o&&"right"===c||o+1>=l&&"left"===c)&&(u=n.swipeLength*this.props.edgeFriction,this.state.edgeDragged===!1&&this.props.edgeEvent&&(this.props.edgeEvent(c),this.setState({edgeDragged:!0}))),this.state.swiped===!1&&this.props.swipeEvent&&(this.props.swipeEvent(c),this.setState({swiped:!0})),t=this.props.vertical?i+u*(this.state.listHeight/this.state.listWidth)*s:i+u*s,this.props.verticalSwiping&&(t=i+u*s),this.setState({touchObject:n,swipeLeft:t,trackStyle:(0,r.getTrackCSS)((0,a.default)({left:t},this.props,this.state))}),Math.abs(n.curX-n.startX)<.8*Math.abs(n.curY-n.startY)||n.swipeLength>4&&e.preventDefault()}},getNavigableIndexes:function(){var e=void 0,t=0,i=0,s=[];for(this.props.infinite?(t=this.props.slidesToShow*-1,i=this.props.slidesToShow*-1,e=2*this.state.slideCount):e=this.state.slideCount;t<e;)s.push(t),t=i+this.props.slidesToScroll,i+=this.props.slidesToScroll<=this.props.slidesToShow?this.props.slidesToScroll:this.props.slidesToShow;return s},checkNavigable:function(e){var t=this.getNavigableIndexes(),i=0;if(e>t[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=i;break}i=t[s]}return e},getSlideCount:function(){var e=this,t=this.props.centerMode?this.state.slideWidth*Math.floor(this.props.slidesToShow/2):0;if(this.props.swipeToSlide){var i=void 0,s=c.default.findDOMNode(this.list),r=s.querySelectorAll(".slick-slide");Array.from(r).every(function(s){if(e.props.vertical){if(s.offsetTop+e.getHeight(s)/2>e.state.swipeLeft*-1)return i=s,!1}else if(s.offsetLeft-t+e.getWidth(s)/2>e.state.swipeLeft*-1)return i=s,!1;return!0});var n=Math.abs(i.dataset.index-this.state.currentSlide)||1;return n}return this.props.slidesToScroll},swipeEnd:function(e){if(!this.state.dragging)return void e.preventDefault();var t=this.state.touchObject,i=this.state.listWidth/this.props.touchThreshold,s=this.swipeDirection(t);if(this.props.verticalSwiping&&(i=this.state.listHeight/this.props.touchThreshold),this.setState({dragging:!1,edgeDragged:!1,swiped:!1,swipeLeft:null,touchObject:{}}),t.swipeLength)if(t.swipeLength>i){e.preventDefault();var n=void 0,o=void 0;switch(s){case"left":case"down":o=this.state.currentSlide+this.getSlideCount(),n=this.props.swipeToSlide?this.checkNavigable(o):o,this.state.currentDirection=0;break;case"right":case"up":o=this.state.currentSlide-this.getSlideCount(),n=this.props.swipeToSlide?this.checkNavigable(o):o,this.state.currentDirection=1;break;default:n=this.state.currentSlide}this.slideHandler(n)}else{var l=(0,r.getTrackLeft)((0,a.default)({slideIndex:this.state.currentSlide,trackRef:this.track},this.props,this.state));this.setState({trackStyle:(0,r.getTrackAnimateCSS)((0,a.default)({left:l},this.props,this.state))})}},onInnerSliderEnter:function(e){this.props.autoplay&&this.props.pauseOnHover&&this.pause()},onInnerSliderLeave:function(e){this.props.autoplay&&this.props.pauseOnHover&&this.autoPlay()}};i.default=u},{"./helpers":15,"./trackHelper":16,"object-assign":19,"react-dom":"react-dom"}],15:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},n=e("react"),o=s(n),a=e("react-dom"),l=s(a),c=e("./trackHelper"),u=e("object-assign"),d=s(u),p={initialize:function(e){var t,i=l.default.findDOMNode(this.list),s=o.default.Children.count(e.children),r=this.getWidth(i),n=this.getWidth(l.default.findDOMNode(this.track));if(e.vertical)t=this.getWidth(l.default.findDOMNode(this));else{var a=e.centerMode&&2*parseInt(e.centerPadding);t=(this.getWidth(l.default.findDOMNode(this))-a)/e.slidesToShow}var u=this.getHeight(i.querySelector('[data-index="0"]')),p=u*e.slidesToShow,h=e.rtl?s-1-e.initialSlide:e.initialSlide;this.setState({slideCount:s,slideWidth:t,listWidth:r,trackWidth:n,currentSlide:h,slideHeight:u,listHeight:p},function(){var t=(0,c.getTrackLeft)((0,d.default)({slideIndex:this.state.currentSlide,trackRef:this.track},e,this.state)),i=(0,c.getTrackCSS)((0,d.default)({left:t},e,this.state));this.setState({trackStyle:i}),this.autoPlay()})},update:function(e){var t,i=l.default.findDOMNode(this.list),s=o.default.Children.count(e.children),r=this.getWidth(i),n=this.getWidth(l.default.findDOMNode(this.track));if(e.vertical)t=this.getWidth(l.default.findDOMNode(this));else{var a=e.centerMode&&2*parseInt(e.centerPadding);t=(this.getWidth(l.default.findDOMNode(this))-a)/e.slidesToShow}var u=this.getHeight(i.querySelector('[data-index="0"]')),p=u*e.slidesToShow;e.autoplay||this.pause(),this.setState({slideCount:s,slideWidth:t,listWidth:r,trackWidth:n,slideHeight:u,listHeight:p},function(){var t=(0,c.getTrackLeft)((0,d.default)({slideIndex:this.state.currentSlide,trackRef:this.track},e,this.state)),i=(0,c.getTrackCSS)((0,d.default)({left:t},e,this.state));this.setState({trackStyle:i})})},getWidth:function(e){return e.getBoundingClientRect().width||e.offsetWidth},getHeight:function(e){return e.getBoundingClientRect().height||e.offsetHeight},adaptHeight:function(){if(this.props.adaptiveHeight){var e='[data-index="'+this.state.currentSlide+'"]';if(this.list){var t=l.default.findDOMNode(this.list);t.style.height=t.querySelector(e).offsetHeight+"px"}}},canGoNext:function(e){var t=!0;return e.infinite||(e.centerMode?e.currentSlide>=e.slideCount-1&&(t=!1):(e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1)),t},slideHandler:function(e){var t,i,s,r,n,o=this;if(!this.props.waitForAnimate||!this.state.animating){if(this.props.fade){if(i=this.state.currentSlide,this.props.infinite===!1&&(e<0||e>=this.state.slideCount))return;return t=e<0?e+this.state.slideCount:e>=this.state.slideCount?e-this.state.slideCount:e,this.props.lazyLoad&&this.state.lazyLoadedList.indexOf(t)<0&&this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(t)}),n=function(){o.setState({animating:!1}),o.props.afterChange&&o.props.afterChange(t),delete o.animationEndCallback},this.setState({animating:!0,currentSlide:t},function(){this.animationEndCallback=setTimeout(n,this.props.speed)}),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,t),void this.autoPlay()}if(t=e,i=t<0?this.props.infinite===!1?0:this.state.slideCount%this.props.slidesToScroll!==0?this.state.slideCount-this.state.slideCount%this.props.slidesToScroll:this.state.slideCount+t:t>=this.state.slideCount?this.props.infinite===!1?this.state.slideCount-this.props.slidesToShow:this.state.slideCount%this.props.slidesToScroll!==0?0:t-this.state.slideCount:t,s=(0,c.getTrackLeft)((0,d.default)({slideIndex:t,trackRef:this.track},this.props,this.state)),r=(0,c.getTrackLeft)((0,d.default)({slideIndex:i,trackRef:this.track},this.props,this.state)),this.props.infinite===!1&&(s=r),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,i),this.props.lazyLoad){for(var a=!0,l=[],u=t;u<t+this.props.slidesToShow;u++)a=a&&this.state.lazyLoadedList.indexOf(u)>=0,a||l.push(u);a||this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(l)})}if(this.props.useCSS===!1)this.setState({currentSlide:i,trackStyle:(0,c.getTrackCSS)((0,d.default)({left:r},this.props,this.state))},function(){this.props.afterChange&&this.props.afterChange(i)});else{var p={animating:!1,currentSlide:i,trackStyle:(0,c.getTrackCSS)((0,d.default)({left:r},this.props,this.state)),swipeLeft:null};n=function(){o.setState(p),o.props.afterChange&&o.props.afterChange(i),delete o.animationEndCallback},this.setState({animating:!0,currentSlide:i,trackStyle:(0,c.getTrackAnimateCSS)((0,d.default)({left:s},this.props,this.state))},function(){this.animationEndCallback=setTimeout(n,this.props.speed)})}this.autoPlay()}},swipeDirection:function(e){var t,i,s,r;return t=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,t),r=Math.round(180*s/Math.PI),r<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?this.props.rtl===!1?"left":"right":r>=135&&r<=225?this.props.rtl===!1?"right":"left":this.props.verticalSwiping===!0?r>=35&&r<=135?"down":"up":"vertical"},play:function(){var e;if(!this.state.mounted)return!1;if(this.props.rtl)e=this.state.currentSlide-this.props.slidesToScroll;else{if(!this.canGoNext(r({},this.props,this.state)))return!1;e=this.state.currentSlide+this.props.slidesToScroll}this.slideHandler(e)},autoPlay:function(){this.state.autoPlayTimer||this.props.autoplay&&this.setState({autoPlayTimer:setInterval(this.play,this.props.autoplaySpeed)})},pause:function(){this.state.autoPlayTimer&&(clearInterval(this.state.autoPlayTimer),this.setState({autoPlayTimer:null}))}};i.default=p},{"./trackHelper":16,"object-assign":19,react:"react","react-dom":"react-dom"}],16:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.getTrackLeft=i.getTrackAnimateCSS=i.getTrackCSS=void 0;var r=e("react-dom"),n=s(r),o=e("object-assign"),a=s(o),l=function(e,t){return t.reduce(function(t,i){return t&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing",e)},c=i.getTrackCSS=function(e){l(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,i,s=e.slideCount+2*e.slidesToShow;e.vertical?i=s*e.slideHeight:t=e.variableWidth?(e.slideCount+2*e.slidesToShow)*e.slideWidth:e.centerMode?(e.slideCount+2*(e.slidesToShow+1))*e.slideWidth:(e.slideCount+2*e.slidesToShow)*e.slideWidth;var r={opacity:1,WebkitTransform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transform:e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",transition:"",WebkitTransition:"",msTransform:e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)"};return t&&(0,a.default)(r,{width:t}),i&&(0,a.default)(r,{height:i}),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?r.marginTop=e.left+"px":r.marginLeft=e.left+"px"),r};i.getTrackAnimateCSS=function(e){l(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=c(e);return t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase,t},i.getTrackLeft=function(e){l(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,i,s=0,r=0;if(e.fade)return 0;if(e.infinite)e.slideCount>=e.slidesToShow&&(s=e.slideWidth*e.slidesToShow*-1,r=e.slideHeight*e.slidesToShow*-1),e.slideCount%e.slidesToScroll!==0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(e.slideIndex>e.slideCount?(s=(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideWidth*-1,r=(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideHeight*-1):(s=e.slideCount%e.slidesToScroll*e.slideWidth*-1,r=e.slideCount%e.slidesToScroll*e.slideHeight*-1));else if(e.slideCount%e.slidesToScroll!==0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow){var o=e.slidesToShow-e.slideCount%e.slidesToScroll;s=o*e.slideWidth}if(e.centerMode&&(e.infinite?s+=e.slideWidth*Math.floor(e.slidesToShow/2):s=e.slideWidth*Math.floor(e.slidesToShow/2)),t=e.vertical?e.slideIndex*e.slideHeight*-1+r:e.slideIndex*e.slideWidth*-1+s,e.variableWidth===!0){var a;e.slideCount<=e.slidesToShow||e.infinite===!1?i=n.default.findDOMNode(e.trackRef).childNodes[e.slideIndex]:(a=e.slideIndex+e.slidesToShow,i=n.default.findDOMNode(e.trackRef).childNodes[a]),t=i?i.offsetLeft*-1:0,e.centerMode===!0&&(i=e.infinite===!1?n.default.findDOMNode(e.trackRef).children[e.slideIndex]:n.default.findDOMNode(e.trackRef).children[e.slideIndex+e.slidesToShow+1],t=i?i.offsetLeft*-1:0,t+=(e.listWidth-i.offsetWidth)/2)}return t}},{"object-assign":19,"react-dom":"react-dom"}],17:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},n=e("react"),o=s(n),a=e("./inner-slider"),l=e("object-assign"),c=s(l),u=e("json2mq"),d=s(u),p=e("react-responsive-mixin"),h=s(p),f=e("./default-props"),m=s(f),g=o.default.createClass({displayName:"Slider",mixins:[h.default],innerSlider:null,innerSliderRefHandler:function(e){this.innerSlider=e},getInitialState:function(){return{breakpoint:null}},componentWillMount:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map(function(e){return e.breakpoint});t.sort(function(e,t){return e-t}),t.forEach(function(i,s){var r;r=0===s?(0,d.default)({minWidth:0,maxWidth:i}):(0,d.default)({minWidth:t[s-1],maxWidth:i}),e.media(r,function(){e.setState({breakpoint:i})})});var i=(0,d.default)({minWidth:t.slice(-1)[0]});this.media(i,function(){e.setState({breakpoint:null})})}},slickPrev:function(){this.innerSlider.slickPrev()},slickNext:function(){this.innerSlider.slickNext()},slickGoTo:function(e){this.innerSlider.slickGoTo(e)},render:function(){var e,t,i=this;this.state.breakpoint?(t=this.props.responsive.filter(function(e){return e.breakpoint===i.state.breakpoint}),e="unslick"===t[0].settings?"unslick":(0,c.default)({},this.props,t[0].settings)):e=(0,c.default)({},m.default,this.props);var s=this.props.children;return Array.isArray(s)||(s=[s]),s=s.filter(function(e){return!!e}),"unslick"===e?o.default.createElement("div",null,s):o.default.createElement(a.InnerSlider,r({ref:this.innerSliderRefHandler},e),s)}});t.exports=g},{"./default-props":9,"./inner-slider":13,json2mq:4,"object-assign":19,react:"react","react-responsive-mixin":7}],18:[function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0,i.Track=void 0;var r=e("react"),n=s(r),o=e("object-assign"),a=s(o),l=e("classnames"),c=s(l),u=function(e){var t,i,s,r,n;return n=e.rtl?e.slideCount-1-e.index:e.index,s=n<0||n>=e.slideCount,e.centerMode?(r=Math.floor(e.slidesToShow/2),i=(n-e.currentSlide)%e.slideCount===0,n>e.currentSlide-r-1&&n<=e.currentSlide+r&&(t=!0)):t=e.currentSlide<=n&&n<e.currentSlide+e.slidesToShow,(0,c.default)({"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":s})},d=function(e){var t={};return void 0!==e.variableWidth&&e.variableWidth!==!1||(t.width=e.slideWidth),e.fade&&(t.position="relative",t.left=-e.index*e.slideWidth,t.opacity=e.currentSlide===e.index?1:0,t.transition="opacity "+e.speed+"ms "+e.cssEase,t.WebkitTransition="opacity "+e.speed+"ms "+e.cssEase),t},p=function(e,t){return null===e.key||void 0===e.key?t:e.key},h=function(e){var t,i=[],s=[],r=[],o=n.default.Children.count(e.children);return n.default.Children.forEach(e.children,function(l,h){var f=void 0,m={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad|(e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0)?l:n.default.createElement("div",null);var g,v=d((0,a.default)({},e,{index:h})),S=u((0,a.default)({index:h},e));g=f.props.className?(0,c.default)(S,f.props.className):S;var w=function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(m)};if(i.push(n.default.cloneElement(f,{key:"original"+p(f,h),"data-index":h,className:g,tabIndex:"-1",style:(0,a.default)({outline:"none"},f.props.style||{},v),onClick:w})),e.infinite&&e.fade===!1){var y=e.variableWidth?e.slidesToShow+1:e.slidesToShow;h>=o-y&&(t=-(o-h),s.push(n.default.cloneElement(f,{key:"precloned"+p(f,t),"data-index":t,className:g,style:(0,a.default)({},f.props.style||{},v),onClick:w}))),h<y&&(t=o+h,r.push(n.default.cloneElement(f,{key:"postcloned"+p(f,t),"data-index":t,className:g,style:(0,a.default)({},f.props.style||{},v),onClick:w})))}}),e.rtl?s.concat(i,r).reverse():s.concat(i,r)};i.Track=n.default.createClass({displayName:"Track",render:function(){var e=h.call(this,this.props);return n.default.createElement("div",{className:"slick-track",style:this.props.trackStyle},e)}})},{classnames:2,"object-assign":19,react:"react"}],19:[function(e,t,i){"use strict";function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var s=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==s.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(e,t){for(var i,r,a=s(e),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var c in i)n.call(i,c)&&(a[c]=i[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var u=0;u<r.length;u++)o.call(i,r[u])&&(a[r[u]]=i[r[u]])}}return a}},{}],20:[function(e,t,i){var s=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};t.exports=s},{}],21:[function(e,t,i){"use strict";function s(e,t,i){void 0===i&&(i=!1);var s,r,n,o=Date.now||function(){return(new Date).getTime()},a=function(){var l=o()-n;l<t&&l>=0?s=setTimeout(a,t-l):(s=null,i||e.apply(null,r))};return function(){r=arguments,n=o();var l=i&&!s;s||(s=setTimeout(a,t)),l&&e.apply(null,r)}}function r(e){for(var t=e.length,i=new Float32Array(t),s=0;s<t;s++)i[s]=e[s];return i}function n(e){return{u:r(e.u),s:r(e.s),vt:r(e.vt),d:e.d,m:e.m,n:e.n}}function o(e){return{red:n(e.red),green:n(e.green),blue:n(e.blue)}}function a(e,t){var i=new Image;i.onload=function(){t(i)},/^http/.test(e)?(console.log("cors"),i.crossOrigin="anonymous",i.src="http://crossorigin.me/"+e):i.src=e}function l(e){return 10===e}function c(e){return Math.floor(Math.random()*e)}function u(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");i.drawImage(e,0,0);for(var s=0,r=0,n=0,o=10,a=0;a<o;a++){var l=c(e.width),u=c(e.height),d=i.getImageData(l,u,1,1).data;s+=d[0],r+=d[1],n+=d[2]}var p=Math.floor;return"rgb("+p(s/o)+","+p(r/o)+","+p(n/o)+")"}function d(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),i.getImageData(0,0,e.width,e.height)}function p(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}var h=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},f=this&&this.__assign||Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m=e("react"),g=e("react-dom"),v=e("nouislider"),S=e("react-slick"),w=e("./image-svd"),y=e("../shared/types"),b=e("../shared/svd-worker-protocol"),x=function(){function e(){return new Worker("build/svd-worker.js")}function t(){var t={computingSvd:!1,worker:e(),onmessage:function(){},approxSvd:null,fullSvd:null};return t.worker.onmessage=function(e){t.onmessage(e)},t}var i={red:t(),green:t(),blue:t()};return function(e,s,r,n){function o(o){var a=o(),l=a.get(i);l.computingSvd?(l.worker.terminate(),l=t(),i=a.set(i,l)):l.computingSvd=!0;var c=o().get(r).buffer;l.worker.postMessage(b.makeSetInputReq({a:c,m:e,n:s}),[c]),l.onmessage=function(e){l.approxSvd=e.data,i.red.approxSvd&&i.green.approxSvd&&i.blue.approxSvd&&n({red:i.red.approxSvd,green:i.green.approxSvd,blue:i.blue.approxSvd,approx:!0}),l.onmessage=function(e){l.fullSvd=e.data,l.computingSvd=!1,i.red.fullSvd&&i.green.fullSvd&&i.blue.fullSvd&&n({red:i.red.fullSvd,green:i.green.fullSvd,blue:i.blue.fullSvd,approx:!1})},l.worker.postMessage(b.makeComputeSVDReq({approx:!1}))},l.worker.postMessage(b.makeComputeSVDReq({approx:!0}))}o(y.mkRedLens),o(y.mkGreenLens),o(y.mkBlueLens)}}(),k=function(){var e={};return function(t){if(!e[t]){var i=new Image;i.onload=function(){e[t]=!0,console.log("Preloaded image '"+t+"'")},i.src=t}}}(),C=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.onChange=function(){var e=g.findDOMNode(this.refs.input),t=e.files;t&&t[0]&&this.props.onChange&&this.props.onChange(t[0])},t.prototype.render=function(){return m.createElement("span",{className:"button file-input-button"},m.createElement("span",null,this.props.label),m.createElement("input",{ref:"input",type:"file",accept:"image/*",className:"file-input",onChange:this.onChange.bind(this)}))},t}(m.Component),E=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getImages=function(){function e(e){return e.preview="images/question_mark_small.jpg",e.quiz=!0,e}return[{name:"cats",caption:"By Jetske",source:"https://www.flickr.com/photos/jetske/5827857531/"},{name:"tree",caption:"By Moyan Brenn",source:"https://www.flickr.com/photos/aigle_dore/15061080128/"},{name:"mondrian",caption:"By Rael Garcia Arnes",source:"https://www.flickr.com/photos/raelga/4408707212/"},{name:"nyc",caption:"By Chris Isherwood",source:"https://www.flickr.com/photos/isherwoodchris/3096255994/"},{name:"girl",caption:"By Elvin",source:"https://www.flickr.com/photos/25228175@N08/5896000539/"},{name:"royal_stewart",caption:"The Royal Stewart tartan",source:"https://en.wikipedia.org/wiki/Royal_Stewart_tartan"},{url:"images/randbitmap-rdo_medium.png",preview:"images/randbitmap-rdo_small.png",caption:"Random data",source:"https://www.random.org/bitmaps/"},{name:"girih_pattern",caption:"Girih pattern by nfoCan",source:"https://en.wikipedia.org/wiki/Girih#/media/File:Samarkand_Shah-i_Zinda_Tuman_Aqa_complex_cropped2.jpg"},{caption:"Made with the KC-O-M",url:"images/keep-calm-and-use-svd_medium.png",preview:"images/keep-calm-and-use-svd_small.png",source:"http://www.keepcalm-o-matic.co.uk/"},{name:"skater_boy",caption:"By Chris Goldberg",source:"https://flic.kr/p/keMZvg"},e({name:"quiz1",caption:"By Francisco Martins",source:"https://flic.kr/p/4bpEpb"}),e({name:"quiz2",caption:"By Eleonora Gorini",source:"https://flic.kr/p/5yWPDc"}),e({name:"quiz3",caption:"By melfoody",source:"https://flic.kr/p/enTNR5"}),e({name:"quiz4",caption:"By VvG",source:"https://goo.gl/oH2BLt"}),e({name:"quiz5",caption:"By Sergiu Bacioiu",source:"https://flic.kr/p/7TdBUA"})].map(function(e,t){return{name:e.name||"image-"+t,width:150,height:150,url:e.url||"images/"+e.name+"_medium.jpg",preview:e.preview||"images/"+e.name+"_small.jpg",caption:e.caption,source:e.source,quiz:!!e.quiz}})},t.prototype.renderImage=function(e){var t=this,i=function(i){i.preventDefault(),t.props.onClick&&t.props.onClick(e)},s=function(){k(e.url)};return m.createElement("div",{className:"image",key:e.name},m.createElement("a",{href:e.url,onClick:i,onMouseOver:s},m.createElement("img",{width:e.width,height:e.height,src:e.preview})),m.createElement("p",{className:"caption"},m.createElement("a",{href:e.source},e.caption)))},t.prototype.render=function(){var e={ref:"slider",className:"gallery",slidesToShow:5,slidesToScroll:5,draggable:!1,infinite:!1,afterChange:this.props.onScroll||function(){}};return m.createElement(S,f({},e),this.getImages().map(this.renderImage.bind(this)))},t}(m.Component),T=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.render=function(){return m.createElement("div",{className:"slider"})},t.prototype.componentDidUpdate=function(e,t){var i=g.findDOMNode(this).noUiSlider;i&&(this.props.value!==i.get()&&i.set(this.props.value),this.props.maxSvs!==e.maxSvs&&(i.destroy(),this.buildSlider()))},t.prototype.componentDidMount=function(){this.buildSlider()},t.prototype.buildSlider=function(){var e=this,t=g.findDOMNode(this);v.create(t,this.getSliderOptions()),t.noUiSlider.on("update",s(function(){var i=Math.round(t.noUiSlider.get());i!==e.props.value&&e.props.onUpdate&&e.props.onUpdate(i)},50)),t.noUiSlider.on("change",s(function(){var i=Math.round(t.noUiSlider.get());i!==e.props.value&&e.props.onChange&&e.props.onChange(i)},50))},t.prototype.getSliderOptions=function(){for(var e=this.props.max,t=this.props.maxSvs,i=[],s=1;s<20;s++)i.push(s);for(var s=20;s<100;s+=5)i.push(s);for(var s=100;s<e;s+=10)i.push(s);return i.push(e),{behaviour:"snap",range:{min:[1,1],"18%":[10,2],"30%":[20,10],"48%":[100,20],max:[e]},start:this.props.value,pips:{mode:"values",values:i,density:10,filter:function(e){return e>t?0:1===e||10===e||20===e?1:e%100===0?1:e<10?2:e<20&&e%2===0?2:e<100&&e%10===0?2:e%20===0?2:0}}}},t}(m.Component);i.SVSlider=T;var M=function(e){function t(t){e.call(this,t),this.state={hover:!1}}return h(t,e),t.prototype.componentDidMount=function(){this.paint()},t.prototype.componentDidUpdate=function(){this.paint()},t.prototype.onMouseEnter=function(){this.setState({hover:!0})},t.prototype.onMouseOut=function(){this.setState({hover:!1})},t.prototype.render=function(){return m.createElement("canvas",{width:this.props.width,height:this.props.height,onMouseEnter:this.onMouseEnter.bind(this),onMouseOut:this.onMouseOut.bind(this)})},t}(m.Component),N=function(e){function t(){e.apply(this,arguments),this.products=null,this.imageData=null}return h(t,e),t.prototype.shouldComponentUpdate=function(e,t){return e.svds!==this.props.svds?(this.imageData=null,this.products=null):this.products&&e.numSvs!==this.props.numSvs&&(e.numSvs>this.props.numSvs?(this.imageDataUpdates++,w.multiplySvds(this.props.svds,this.products,this.props.numSvs,e.numSvs,1)):this.props.numSvs-e.numSvs<e.numSvs?(this.imageDataUpdates++,w.multiplySvds(this.props.svds,this.products,e.numSvs,this.props.numSvs,-1)):this.products=null),!0},t.prototype.initProducts=function(){var e=this.props.width,t=this.props.height;return{red:new Float32Array(t*e),green:new Float32Array(t*e),blue:new Float32Array(t*e)}},t.prototype.computeProductsFromScratch=function(){this.products&&(w.multiplySvds(this.props.svds,this.products,0,this.props.numSvs,1),this.imageDataUpdates=0)},t.prototype.getProducts=function(){return this.products?this.products:(this.products=this.initProducts(),this.computeProductsFromScratch(),this.products)},t.prototype.refreshImageData=function(){this.imageDataUpdates>=20&&(this.computeProductsFromScratch(),this.paint())},t.prototype.paint=function(){var e=this.props.width,t=this.props.height,i=g.findDOMNode(this).getContext("2d");if(i)if(this.state.hover&&this.props.hoverToSeeOriginal)i.drawImage(this.props.img,0,0,e,t);else{this.imageData||(i.fillStyle="#000",i.fillRect(0,0,e,t),this.imageData=i.getImageData(0,0,e,t));for(var s=this.imageData.data,r=this.getProducts(),n=r.red,o=r.green,a=r.blue,l=0;l<t;l++)for(var c=0;c<e;c++){var u=l*e+c,d=4*u;s[d]=n[u],s[d+1]=o[u],s[d+2]=a[u]}i.putImageData(this.imageData,0,0)}},t}(M),O=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.paint=function(){var e=this.props.width,t=this.props.height,i=g.findDOMNode(this).getContext("2d");if(i){var s=this.state.hover;i.clearRect(0,0,e,t),i.fillStyle=s?"rgb(90, 90, 90)":"rgba(90, 90, 90, 0.35)",i.fillRect(0,0,e,t);for(var r=this.props.svds.red.s,n=this.props.svds.green.s,o=this.props.svds.blue.s,a=(r[5]+n[5]+o[5])/(3*t),l=this.props.numSvs,c=this.props.svds.red.d,u=i.getImageData(0,0,e,t),d=u.data,p=0;p<c;p++)for(var h=Math.round(r[p]/a),f=Math.round(n[p]/a),m=Math.round(o[p]/a),v=p<l?30:0,S=0;S<t;S++){var w=4*((t-S)*e+p);d[w]=(S<h?225:100)+v,d[w+1]=(S<f?225:100)+v,d[w+2]=(S<m?225:100)+v,d[w+3]=s?255:(d[w]+d[w+1]+d[w+2])/3}i.putImageData(u,0,0)}},t}(M),D=function(e){function t(){
e.apply(this,arguments)}return h(t,e),t.prototype.render=function(){var e=u(this.props.img),t={width:this.props.width,height:this.props.height,background:e};return m.createElement("div",{className:"placeholder",style:t})},t}(m.Component),L={w:600,h:402,src:"images/mountains_sea.jpg",approxSrc:"images/mountains_sea_5svs.jpg"},P=function(e){function t(t){e.call(this,t),this.state={width:L.w,height:L.h,placeholderImg:L.approxSrc,numSvs:5,approx:!0,showSvs:!1,error:"",hoverToSeeOriginal:!0,guessingPage:!1,hover:!1,img:null,svds:null}}return h(t,e),t.prototype.componentDidMount=function(){window.ondragover=this.onDragOver.bind(this),this.loadImage(L.src,L.approxSrc)},t.prototype.initializeImage=function(e){var t,i=this,s=e.width,r=e.height;try{t=d(e)}catch(e){if(e.message.match(/(tainted|cross\-origin|insecure)/))return window.alert("Due to browser limitations (cross-origin policy), it isn't possible use pictures dragged from other sites. You have to save the image locally before you can use it.");throw e}if(s>1e3||r>1e3){var n="Your image is quite large. Computing the SVD may take a while. Continue?";if(!window.confirm(n))return}this.setState({width:s,height:r,img:e,svds:null,error:""});var a=w.imageDataToPixels(t);x(r,s,a,function(e){i.setState({svds:o(e),approx:e.approx})})},t.prototype.loadImage=function(e,t){void 0===t&&(t=null),this.setState({placeholderImg:t}),a(e,this.initializeImage.bind(this))},t.prototype.onDragOver=function(e){if(e.preventDefault(),!this.state.hover){var t=e.dataTransfer.types,i=p(t,"text/uri-list")||p(t,"Files")?"":"The dragged object is not an image!";this.setState({hover:!0,error:i})}},t.prototype.onDragLeave=function(e){this.setState({hover:!1,error:""})},t.prototype.onDrop=function(e){this.setState({hover:!1}),e.preventDefault();var t=e.dataTransfer.files;t&&t.length>0?this.onFileChosen(t[0]):p(e.dataTransfer.types,"text/uri-list")&&this.loadImage(e.dataTransfer.getData("text/uri-list"))},t.prototype.onFileChosen=function(e){var t=this;if(!e.type.match(/^image\/.*/)){var i="The chosen file is not an image! Try another file ...";return void this.setState({error:i})}this.setState({error:""});var s=new FileReader;s.onload=function(e){var i=e.target;t.loadImage(i.result)},s.readAsDataURL(e)},t.prototype.onUpdateSvs=function(e){this.setState({numSvs:e})},t.prototype.onChangeSvs=function(e){var t=this;window.setTimeout(function(){t.refs.svdView.refreshImageData()},400)},t.prototype.clickShowSvs=function(e){e.preventDefault(),this.setState({showSvs:!this.state.showSvs})},t.prototype.clickHoverToSeeOriginal=function(e){e.preventDefault(),this.setState({hoverToSeeOriginal:!this.state.hoverToSeeOriginal})},t.prototype.onClickGallery=function(e){e.quiz&&this.setState({numSvs:1}),this.loadImage(e.url)},t.prototype.onScrollGallery=function(e){var t=l(e),i=this.state.guessingPage!==t;i&&this.setState({guessingPage:t,hoverToSeeOriginal:!t})},t.prototype.render=function(){var e=this.state.width,t=this.state.height,i=this.state,s=i.img,r=i.placeholderImg,n=i.numSvs,o=null;this.state.error?o=this.state.error:this.state.hover?o="Drop now!":this.state.svds?this.state.approx&&(o=m.createElement("span",null,"Showing approximate SVD ",m.createElement("img",{src:"deps/spinner.gif",width:"16",height:"16"})," Computing precise result ")):o=m.createElement("span",null,"Please wait ");var a,l={width:e+240,height:t-20},c=m.createElement("div",{className:"drop-target "+(this.state.error?"":"active"),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),onDrop:this.onDrop.bind(this)}),u=null;this.state.svds&&s?(u=m.createElement(N,{ref:"svdView",svds:this.state.svds,numSvs:n,width:e,height:t,img:s,hoverToSeeOriginal:this.state.hoverToSeeOriginal}),a=this.state.svds.red.d):(a=1,r?u=m.createElement("img",{width:e,height:t,src:r}):s&&(u=m.createElement(D,{width:e,height:t,img:s})));var d=t*n+n+n*e,p=m.createElement("div",{className:"stats",style:{left:e+20}},m.createElement("table",null,m.createElement("tbody",null,m.createElement("tr",null,m.createElement("th",{className:"label"},"Image size"),m.createElement("td",null,e,"  ",t)),m.createElement("tr",null,m.createElement("th",{className:"label"},"#pixels"),m.createElement("td",null,"= ",e*t)))),m.createElement("p",null,m.createElement("span",{className:"label"},"Uncompressed size"),m.createElement("br",null),"proportional to number of pixels"),m.createElement("p",null,m.createElement("span",{className:"label"},"Compressed size"),m.createElement("br",null),"approximately proportional to ",m.createElement("br",null),t,"",n," + ",n," + ",n,"",e," ",m.createElement("br",null),"= ",d),m.createElement("p",null,m.createElement("span",{className:"label"},"Compression ratio"),m.createElement("br",null),e*t," / ",d," = ",(e*t/d).toFixed(2)),m.createElement("p",null,m.createElement("a",{className:"button toggle-show-svs "+(this.state.showSvs?"active":""),href:"#",onClick:this.clickShowSvs.bind(this)},"Show singular values")),m.createElement("p",{className:"hint"},m.createElement("a",{className:"toggle-hover-original "+(this.state.hoverToSeeOriginal?"active":""),href:"#",onClick:this.clickHoverToSeeOriginal.bind(this)},m.createElement("span",{className:"check-box"},this.state.hoverToSeeOriginal?m.createElement("span",null,""):m.createElement("span",null,"")),m.createElement("span",{className:"text"},"hover to see the original picture"))));return m.createElement("div",null,this.state.hover?c:"",m.createElement("div",{className:"image-container",style:l},u?u:"",this.state.svds&&this.state.showSvs?m.createElement(O,{svds:this.state.svds,numSvs:n,width:e,height:t}):"",o?m.createElement("p",{className:"info-bar"},o):"",p),m.createElement("div",{className:"wrapper"},m.createElement("div",{className:"options"},m.createElement(T,{value:n,maxSvs:a,onUpdate:this.onUpdateSvs.bind(this),onChange:this.onChangeSvs.bind(this),max:Math.min(e,t)})),m.createElement("p",null,this.state.guessingPage?"How many singular values do you need to recognize the subject of these pictures?":"Change the number of singular values using the slider. Click on one of these images to compress it:"),m.createElement(E,{ref:"gallery",onClick:this.onClickGallery.bind(this),onScroll:this.onScrollGallery.bind(this)}),m.createElement("p",null,m.createElement("span",{className:"valign"},"You can compress your own images by using the"),m.createElement(C,{onChange:this.onFileChosen.bind(this),label:"file picker"}),m.createElement("span",{className:"valign"},"or by dropping them on this page."))))},t}(m.Component);g.render(m.createElement(P,null),document.getElementById("app"))},{"../shared/svd-worker-protocol":23,"../shared/types":24,"./image-svd":22,nouislider:5,react:"react","react-dom":"react-dom","react-slick":11}],22:[function(e,t,i){"use strict";function s(e){for(var t=e.width,i=e.height,s=new Float64Array(i*t),r=new Float64Array(i*t),n=new Float64Array(i*t),o=0,a=0;a<i;a++)for(var l=0;l<t;l++){var c=l*i+a;s[c]=e.data[o],r[c]=e.data[o+1],n[c]=e.data[o+2],o+=4}return{red:s,green:r,blue:n}}function r(e,t,i,s,r){var n="multiplySvds"+Math.round(100*Math.random());console.time(n);var o=e.red,a=e.green,l=e.blue,c=o.n,u=o.m,d=o.d;s=Math.min(s,d);for(var p=o.u,h=o.vt,f=o.s,m=a.u,g=a.vt,v=a.s,S=l.u,w=l.vt,y=l.s,b=t.red,x=t.green,k=t.blue,C=0;C<u;C++)for(var E=0;E<c;E++){for(var T=0,M=0,N=0,O=s-1;O>=i;O--)T+=p[O*u+C]*f[O]*h[E*d+O],M+=m[O*u+C]*v[O]*g[E*d+O],N+=S[O*u+C]*y[O]*w[E*d+O];var D=C*c+E;b[D]+=T*r,x[D]+=M*r,k[D]+=N*r}console.timeEnd(n)}i.imageDataToPixels=s,i.multiplySvds=r},{}],23:[function(e,t,i){"use strict";function s(e){return{msg:"set-input",a:e.a,m:e.m,n:e.n}}function r(e){return{msg:"compute-svd",approx:e.approx}}i.makeSetInputReq=s,i.makeComputeSVDReq=r},{}],24:[function(e,t,i){"use strict";function s(){return{get:function(e){var t=e.red;return t},set:function(e,t){var i=e.green,s=e.blue;return{red:t,green:i,blue:s}}}}function r(){return{get:function(e){var t=e.green;return t},set:function(e,t){var i=e.red,s=e.blue;return{red:i,green:t,blue:s}}}}function n(){return{get:function(e){var t=e.blue;return t},set:function(e,t){var i=e.red,s=e.green;return{red:i,green:s,blue:t}}}}i.mkRedLens=s,i.mkGreenLens=r,i.mkBlueLens=n},{}]},{},[21]);
//# sourceMappingURL=app.js.map
